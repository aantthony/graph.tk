function foreach(a,b){return Object.keys(a).forEach(function(c){return b(c,a[c])})}function expose(a){return window[a.name]=a,a}function ui_init(a){function f(a,c){var d=e.cloneNode(!0);d.id="eq-"+a;var f=d.firstChild,g=d.firstChild.firstChild,h=d.getElementsByClassName("delete")[0],i=d.getElementsByClassName("matheditor")[0];return i.appendChild(document.createTextNode(c.latex||"")),g.addEventListener("change",function(a){},!1),f.style.backgroundColor=c.color,h.addEventListener("mouseup",function(a){app.remove(d),a.stopPropagation()},!1),b.graphs.appendChild(d),$(i).mathquill("editable").bind("keyup",function(b){if(b.keyCode==13||!0){var d=$(i).mathquill("latex"),e=M(M.latex.parse(d));c.math=e,app.updateGraphWithID(a)}}),d}function g(){b.canvas.width=a.innerWidth||document.body.clientWidth,b.canvas.height=a.innerHeight||document.body.clientHeight||120}function j(a,b,c){var d=document.createElement("input");return d.type="button",d.value=a,d.title=b,d.onclick=c,i.appendChild(d),j}var b={canvas:document.createElement("canvas"),graphs:document.createElement("ul")},c={},d={createGraph:function(a,b){c[a]={node:f(a,b)}},destroyGraph:function(a){b.graphs.removeChild(c[a].node),delete c[a]}},e=function(){var a=document.createElement("li"),b=document.createElement("div"),c=document.createElement("aside");c.appendChild(document.createTextNode("fail")),b.className="b",b.style.backgroundColor="#07c";var d=document.createElement("input");d.type="checkbox",d.checked="checked",d.title=localized.showhide,b.appendChild(d);var e=document.createElement("span");e.className="matheditor";var f=document.createElement("span");return f.className="delete",a.appendChild(b),a.appendChild(e),a.appendChild(f),a.appendChild(c),a.cloneNode(!0)}();b.canvas.width=a.innerWidth,b.canvas.height=a.innerHeight,document.body.appendChild(b.canvas);var h=document.createElement("div"),i=document.createElement("div");h.className="overlay",h.id="funcs",i.className="buttons",j("+","Add a function",function(){app.createGraph()}),j(">_","Math Console",function(){}),j(".png","Make screenshot",function(){});var k=document.createElement("a");k.target="_blank",k.className="help_button",k.title="Help Page",k.href="about/",i.appendChild(k),h.appendChild(b.graphs),h.appendChild(i),document.body.appendChild(h),function(){function k(b){b=b||a.event;var c,d;b.x===undefined&&(b.x=b.pageX,b.y=b.pageY),b.wheelDeltaY===undefined&&(b.wheelDeltaY=-b.detail);var e=b.wheelDeltaY;e>1.2?e=1.2:e<-1.2&&(e=-1.2),e*=g;var f=Math.exp(e);renderer.cam_dist*=f,renderer.update();var h=c+cx,i=d-cy;return h*h+i*i>1e3&&(cx=f*(c+cx)-c,cy+=d+f*(cy-d)-cy),updatePTD(c,d),b.preventDefault(),!1}var c,d,e=.01,f=-0.01,g=.01,h,i,j;b.canvas.addEventListener("mousedown",function(e){e.x===undefined&&(e.x=e.pageX,e.y=e.pageY),c=e.x,d=e.y,h=renderer.cam_long,i=renderer.cam_lat,a.D3||(b.canvas.style.cursor="url(css/grabbing.gif), grabbing")}),b.canvas.addEventListener("mousemove",function(a){c!==undefined&&(a.x===undefined&&(a.x=a.pageX,a.y=a.pageY),renderer.cam_long=h+e*(a.x-c),renderer.cam_lat=i+f*(a.y-d),renderer.cam_lat<0?renderer.cam_lat=0:renderer.cam_lat>Math.PI&&(renderer.cam_lat=Math.PI),renderer.update())}),b.canvas.addEventListener("mousewheel",k,!1),b.canvas.addEventListener("DOMMouseScroll",k,!1),b.canvas.addEventListener("mouseup",function(a){c=d=undefined,b.canvas.style.cursor=""})}();while(renderers.length){if(renderer=renderers[0](b.canvas)){a.renderer=renderer,renderers=!0;break}renderers.splice(0,1)}if(renderers!==!0)throw"Could not initialise any renderer!";return d}function init(){var a;if(window.localStorage&&localStorage.getItem)try{if(a=localStorage.getItem("graph-tk"))a=JSON.parse(a)}catch(b){throw"Could not load saved state."}a==undefined&&(a={}),app.ui=ui_init(window),app.createGraph("z=x+sin(y)")}(function(a,b){function c(a){return J.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function d(a){if(!co[a]){var b=J("<"+a+">").appendTo("body"),c=b.css("display");b.remove();if(c==="none"||c===""){cp||(cp=G.createElement("iframe"),cp.frameBorder=cp.width=cp.height=0),G.body.appendChild(cp);if(!cq||!cp.createElement)cq=(cp.contentWindow||cp.contentDocument).document,cq.write("<!doctype><html><body></body></html>");b=cq.createElement(a),cq.body.appendChild(b),c=J.css(b,"display"),G.body.removeChild(cp)}co[a]=c}return co[a]}function e(a,b){var c={};return J.each(cu.concat.apply([],cu.slice(0,b)),function(){c[this]=a}),c}function f(){cv=b}function g(){return setTimeout(f,0),cv=J.now()}function h(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function i(){try{return new a.XMLHttpRequest}catch(b){}}function j(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},f,g,h=d.length,i,j=d[0],k,l,m,n,o;for(f=1;f<h;f++){if(f===1)for(g in a.converters)typeof g=="string"&&(e[g.toLowerCase()]=a.converters[g]);k=j,j=d[f];if(j==="*")j=k;else if(k!=="*"&&k!==j){l=k+" "+j,m=e[l]||e["* "+j];if(!m){o=b;for(n in e){i=n.split(" ");if(i[0]===k||i[0]==="*"){o=e[i[1]+" "+j];if(o){n=e[n],n===!0?m=o:o===!0&&(m=n);break}}}}!m&&!o&&J.error("No conversion from "+l.replace(" "," to ")),m!==!0&&(c=m?m(c):o(n(c)))}}return c}function k(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j)return j!==f[0]&&f.unshift(j),d[j]}function l(a,b,c,d){if(J.isArray(b))J.each(b,function(b,e){c||bR.test(a)?d(a,e):l(a+"["+(typeof e=="object"||J.isArray(e)?b:"")+"]",e,c,d)});else if(!c&&b!=null&&typeof b=="object")for(var e in b)l(a+"["+e+"]",b[e],c,d);else d(a,b)}function m(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===ce,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=m(a,c,d,e,l,g)));return(k||!l)&&!g["*"]&&(l=m(a,c,d,e,"*",g)),l}function n(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(J.isFunction(c)){var d=b.toLowerCase().split(ca),e=0,f=d.length,g,h,i;for(;e<f;e++)g=d[e],i=/^\+/.test(g),i&&(g=g.substr(1)||"*"),h=a[g]=a[g]||[],h[i?"unshift":"push"](c)}}}function o(a,b,c){var d=b==="width"?bK:bL,e=b==="width"?a.offsetWidth:a.offsetHeight;return c==="border"?e:(J.each(d,function(){c||(e-=parseFloat(J.css(a,"padding"+this))||0),c==="margin"?e+=parseFloat(J.css(a,"margin"+this))||0:e-=parseFloat(J.css(a,"border"+this+"Width"))||0}),e)}function p(a,b){b.src?J.ajax({url:b.src,async:!1,dataType:"script"}):J.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bz,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function q(a){J.nodeName(a,"input")?r(a):a.getElementsByTagName&&J.grep(a.getElementsByTagName("input"),r)}function r(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function s(a){return"getElementsByTagName"in a?a.getElementsByTagName("*"):"querySelectorAll"in a?a.querySelectorAll("*"):[]}function t(a,b){var c;if(b.nodeType===1){b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(J.expando)}}function u(a,b){if(b.nodeType===1&&!!J.hasData(a)){var c=J.expando,d=J.data(a),e=J.data(b,d);if(d=d[c]){var f=d.events;e=e[c]=J.extend({},d);if(f){delete e.handle,e.events={};for(var g in f)for(var h=0,i=f[g].length;h<i;h++)J.event.add(b,g+(f[g][h].namespace?".":"")+f[g][h].namespace,f[g][h],f[g][h].data)}}}}function v(a,b){return J.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function w(a,b,c){b=b||0;if(J.isFunction(b))return J.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return J.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=J.grep(a,function(a){return a.nodeType===1});if(bm.test(b))return J.filter(b,d,!c);b=J.filter(b,d)}return J.grep(a,function(a,d){return J.inArray(a,b)>=0===c})}function x(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function y(a,b){return(a&&a!=="*"?a+".":"")+b.replace(_,"`").replace(ba,"&")}function z(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o=[],p=[],q=J._data(this,"events");if(!(a.liveFired===this||!q||!q.live||a.target.disabled||a.button&&a.type==="click")){a.namespace&&(m=new RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)")),a.liveFired=this;var r=q.live.slice(0);for(h=0;h<r.length;h++)f=r[h],f.origType.replace(Z,"")===a.type?p.push(f.selector):r.splice(h--,1);e=J(a.target).closest(p,a.currentTarget);for(i=0,j=e.length;i<j;i++){l=e[i];for(h=0;h<r.length;h++){f=r[h];if(l.selector===f.selector&&(!m||m.test(f.namespace))&&!l.elem.disabled){g=l.elem,d=null;if(f.preType==="mouseenter"||f.preType==="mouseleave")a.type=f.preType,d=J(a.relatedTarget).closest(f.selector)[0],d&&J.contains(g,d)&&(d=g);(!d||d!==g)&&o.push({elem:g,handleObj:f,level:l.level})}}}for(i=0,j=o.length;i<j;i++){e=o[i];if(c&&e.level>c)break;a.currentTarget=e.elem,a.data=e.handleObj.data,a.handleObj=e.handleObj,n=e.handleObj.origHandler.apply(e.elem,arguments);if(n===!1||a.isPropagationStopped()){c=e.level,n===!1&&(b=!1);if(a.isImmediatePropagationStopped())break}}return b}}function A(a,c,d){var e=J.extend({},d[0]);e.type=a,e.originalEvent={},e.liveFired=b,J.event.handle.call(c,e),e.isDefaultPrevented()&&d[0].preventDefault()}function B(){return!0}function C(){return!1}function D(a,c,d){var e=c+"defer",f=c+"queue",g=c+"mark",h=J.data(a,e,b,!0);h&&(d==="queue"||!J.data(a,f,b,!0))&&(d==="mark"||!J.data(a,g,b,!0))&&setTimeout(function(){!J.data(a,f,b,!0)&&!J.data(a,g,b,!0)&&(J.removeData(a,e,!0),h.resolve())},0)}function E(a){for(var b in a)if(b!=="toJSON")return!1;return!0}function F(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(N,"$1-$2").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:J.isNaN(d)?M.test(d)?J.parseJSON(d):d:parseFloat(d)}catch(f){}J.data(a,c,d)}else d=b}return d}var G=a.document,H=a.navigator,I=a.location,J=function(){function c(){if(!d.isReady){try{G.documentElement.doScroll("left")}catch(a){setTimeout(c,1);return}d.ready()}}var d=function(a,b){return new d.fn.init(a,b,g)},e=a.jQuery,f=a.$,g,h=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,i=/\S/,j=/^\s+/,k=/\s+$/,l=/\d/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=H.userAgent,w,x,y,z=Object.prototype.toString,A=Object.prototype.hasOwnProperty,B=Array.prototype.push,C=Array.prototype.slice,D=String.prototype.trim,E=Array.prototype.indexOf,F={};return d.fn=d.prototype={constructor:d,init:function(a,c,e){var f,g,i,j;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(a==="body"&&!c&&G.body)return this.context=G,this[0]=G.body,this.selector=a,this.length=1,this;if(typeof a=="string"){a.charAt(0)!=="<"||a.charAt(a.length-1)!==">"||a.length<3?f=h.exec(a):f=[null,a,null];if(f&&(f[1]||!c)){if(f[1])return c=c instanceof d?c[0]:c,j=c?c.ownerDocument||c:G,i=m.exec(a),i?d.isPlainObject(c)?(a=[G.createElement(i[1])],d.fn.attr.call(a,c,!0)):a=[j.createElement(i[1])]:(i=d.buildFragment([f[1]],[j]),a=(i.cacheable?d.clone(i.fragment):i.fragment).childNodes),d.merge(this,a);g=G.getElementById(f[2]);if(g&&g.parentNode){if(g.id!==f[2])return e.find(a);this.length=1,this[0]=g}return this.context=G,this.selector=a,this}return!c||c.jquery?(c||e).find(a):this.constructor(c).find(a)}return d.isFunction(a)?e.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),d.makeArray(a,this))},selector:"",jquery:"1.6.1",length:0,size:function(){return this.length},toArray:function(){return C.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var e=this.constructor();return d.isArray(a)?B.apply(e,a):d.merge(e,a),e.prevObject=this,e.context=this.context,b==="find"?e.selector=this.selector+(this.selector?" ":"")+c:b&&(e.selector=this.selector+"."+b+"("+c+")"),e},each:function(a,b){return d.each(this,a,b)},ready:function(a){return d.bindReady(),x.done(a),this},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(C.apply(this,arguments),"slice",C.call(arguments).join(","))},map:function(a){return this.pushStack(d.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:B,sort:[].sort,splice:[].splice},d.fn.init.prototype=d.fn,d.extend=d.fn.extend=function(){var a,c,e,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!d.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){e=i[c],f=a[c];if(i===f)continue;l&&f&&(d.isPlainObject(f)||(g=d.isArray(f)))?(g?(g=!1,h=e&&d.isArray(e)?e:[]):h=e&&d.isPlainObject(e)?e:{},i[c]=d.extend(l,h,f)):f!==b&&(i[c]=f)}return i},d.extend({noConflict:function(b){return a.$===d&&(a.$=f),b&&a.jQuery===d&&(a.jQuery=e),d},isReady:!1,readyWait:1,holdReady:function(a){a?d.readyWait++:d.ready(!0)},ready:function(a){if(a===!0&&!--d.readyWait||a!==!0&&!d.isReady){if(!G.body)return setTimeout(d.ready,1);d.isReady=!0;if(a!==!0&&--d.readyWait>0)return;x.resolveWith(G,[d]),d.fn.trigger&&d(G).trigger("ready").unbind("ready")}},bindReady:function(){if(!x){x=d._Deferred();if(G.readyState==="complete")return setTimeout(d.ready,1);if(G.addEventListener)G.addEventListener("DOMContentLoaded",y,!1),a.addEventListener("load",d.ready,!1);else if(G.attachEvent){G.attachEvent("onreadystatechange",y),a.attachEvent("onload",d.ready);var b=!1;try{b=a.frameElement==null}catch(e){}G.documentElement.doScroll&&b&&c()}}},isFunction:function(a){return d.type(a)==="function"},isArray:Array.isArray||function(a){return d.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval"in a},isNaN:function(a){return a==null||!l.test(a)||isNaN(a)},type:function(a){return a==null?String(a):F[z.call(a)]||"object"},isPlainObject:function(a){if(!a||d.type(a)!=="object"||a.nodeType||d.isWindow(a))return!1;if(a.constructor&&!A.call(a,"constructor")&&!A.call(a.constructor.prototype,"isPrototypeOf"))return!1;var c;for(c in a);return c===b||A.call(a,c)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw a},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=d.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(n.test(b.replace(o,"@").replace(p,"]").replace(q,"")))return(new Function("return "+b))();d.error("Invalid JSON: "+b)},parseXML:function(b,c,e){return a.DOMParser?(e=new DOMParser,c=e.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b)),e=c.documentElement,(!e||!e.nodeName||e.nodeName==="parsererror")&&d.error("Invalid XML: "+b),c},noop:function(){},globalEval:function(b){b&&i.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,e){var f,g=0,h=a.length,i=h===b||d.isFunction(a);if(e){if(i){for(f in a)if(c.apply(a[f],e)===!1)break}else for(;g<h;)if(c.apply(a[g++],e)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:D?function(a){return a==null?"":D.call(a)}:function(a){return a==null?"":(a+"").replace(j,"").replace(k,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var e=d.type(a);a.length==null||e==="string"||e==="function"||e==="regexp"||d.isWindow(a)?B.call(c,a):d.merge(c,a)}return c},inArray:function(a,b){if(E)return E.call(b,a);for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return c;return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];return a.length=d,a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,e){var f,g,h=[],i=0,j=a.length,k=a instanceof d||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||d.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,e),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,e),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var e=a[c];c=a,a=e}if(!d.isFunction(a))return b;var f=C.call(arguments,2),g=function(){return a.apply(c,f.concat(C.call(arguments)))};return g.guid=a.guid=a.guid||g.guid||d.guid++,g},access:function(a,c,e,f,g,h){var i=a.length;if(typeof c=="object"){for(var j in c)d.access(a,j,c[j],f,g,e);return a}if(e!==b){f=!h&&f&&d.isFunction(e);for(var k=0;k<i;k++)g(a[k],c,f?e.call(a[k],k,g(a[k],c)):e,h);return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}d.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(c,e){return e&&e instanceof d&&!(e instanceof a)&&(e=a(e)),d.fn.init.call(this,c,e,b)},a.fn.init.prototype=a.fn;var b=a(G);return a},browser:{}}),d.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){F["[object "+b+"]"]=b.toLowerCase()}),w=d.uaMatch(v),w.browser&&(d.browser[w.browser]=!0,d.browser.version=w.version),d.browser.webkit&&(d.browser.safari=!0),i.test("Â ")&&(j=/^[\s\xA0]+/,k=/[\s\xA0]+$/),g=d(G),G.addEventListener?y=function(){G.removeEventListener("DOMContentLoaded",y,!1),d.ready()}:G.attachEvent&&(y=function(){G.readyState==="complete"&&(G.detachEvent("onreadystatechange",y),d.ready())}),d}(),K="done fail isResolved isRejected promise then always pipe".split(" "),L=[].slice;J.extend({_Deferred:function(){var a=[],b,c,d,e={done:function(){if(!d){var c=arguments,f,g,h,i,j;b&&(j=b,b=0);for(f=0,g=c.length;f<g;f++)h=c[f],i=J.type(h),i==="array"?e.done.apply(e,h):i==="function"&&a.push(h);j&&e.resolveWith(j[0],j[1])}return this},resolveWith:function(e,f){if(!d&&!b&&!c){f=f||[],c=1;try{while(a[0])a.shift().apply(e,f)}finally{b=[e,f],c=0}}return this},resolve:function(){return e.resolveWith(this,arguments),this},isResolved:function(){return!!c||!!b},cancel:function(){return d=1,a=[],this}};return e},Deferred:function(a){var b=J._Deferred(),c=J._Deferred(),d;return J.extend(b,{then:function(a,c){return b.done(a).fail(c),this},always:function(){return b.done.apply(b,arguments).fail.apply(this,arguments)},fail:c.done,rejectWith:c.resolveWith,reject:c.resolve,isRejected:c.isResolved,pipe:function(a,c){return J.Deferred(function(d){J.each({done:[a,"resolve"],fail:[c,"reject"]},function(a,c){var e=c[0],f=c[1],g;J.isFunction(e)?b[a](function(){g=e.apply(this,arguments),g&&J.isFunction(g.promise)?g.promise().then(d.resolve,d.reject):d[f](g)}):b[a](d[f])})}).promise()},promise:function(a){if(a==null){if(d)return d;d=a={}}var c=K.length;while(c--)a[K[c]]=b[K[c]];return a}}),b.done(c.cancel).fail(b.cancel),delete b.cancel,a&&a.call(b,b),b},when:function(a){function b(a){return function(b){c[a]=arguments.length>1?L.call(arguments,0):b,--f||g.resolveWith(g,L.call(c,0))}}var c=arguments,d=0,e=c.length,f=e,g=e<=1&&a&&J.isFunction(a.promise)?a:J.Deferred();if(e>1){for(;d<e;d++)c[d]&&J.isFunction(c[d].promise)?c[d].promise().then(b(d),g.reject):--f;f||g.resolveWith(g,c)}else g!==a&&g.resolveWith(g,e?[a]:[]);return g.promise()}}),J.support=function(){var a=G.createElement("div"),b=G.documentElement,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;a.setAttribute("className","t"),a.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",c=a.getElementsByTagName("*"),d=a.getElementsByTagName("a")[0];if(!c||!c.length||!d)return{};e=G.createElement("select"),f=e.appendChild(G.createElement("option")),g=a.getElementsByTagName("input")[0],i={leadingWhitespace:a.firstChild.nodeType===3,tbody:!a.getElementsByTagName("tbody").length,htmlSerialize:!!a.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:d.getAttribute("href")==="/a",opacity:/^0.55$/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:g.value==="on",optSelected:f.selected,getSetAttribute:a.className!=="t",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},g.checked=!0,i.noCloneChecked=g.cloneNode(!0).checked,e.disabled=!0,i.optDisabled=!f.disabled;try{delete a.test}catch(r){i.deleteExpando=!1}!a.addEventListener&&a.attachEvent&&a.fireEvent&&(a.attachEvent("onclick",function s(){i.noCloneEvent=!1,a.detachEvent("onclick",s)}),a.cloneNode(!0).fireEvent("onclick")),g=G.createElement("input"),g.value="t",g.setAttribute("type","radio"),i.radioValue=g.value==="t",g.setAttribute("checked","checked"),a.appendChild(g),j=G.createDocumentFragment(),j.appendChild(a.firstChild),i.checkClone=j.cloneNode(!0).cloneNode(!0).lastChild.checked,a.innerHTML="",a.style.width=a.style.paddingLeft="1px",k=G.createElement("body"),l={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};for(p in l)k.style[p]=l[p];k.appendChild(a),b.insertBefore(k,b.firstChild),i.appendChecked=g.checked,i.boxModel=a.offsetWidth===2,"zoom"in a.style&&(a.style.display="inline",a.style.zoom=1,i.inlineBlockNeedsLayout=a.offsetWidth===2,a.style.display="",a.innerHTML="<div style='width:4px;'></div>",i.shrinkWrapBlocks=a.offsetWidth!==2),a.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",m=a.getElementsByTagName("td"),q=m[0].offsetHeight===0,m[0].style.display="",m[1].style.display="none",i.reliableHiddenOffsets=q&&m[0].offsetHeight===0,a.innerHTML="",G.defaultView&&G.defaultView.getComputedStyle&&(h=G.createElement("div"),h.style.width="0",h.style.marginRight="0",a.appendChild(h),i.reliableMarginRight=(parseInt((G.defaultView.getComputedStyle(h,null)||{marginRight:0}).marginRight,10)||0)===0),k.innerHTML="",b.removeChild(k);if(a.attachEvent)for(p in{submit:1,change:1,focusin:1})o="on"+p,q=o in a,q||(a.setAttribute(o,"return;"),q=typeof a[o]=="function"),i[p+"Bubbles"]=q;return i}(),J.boxModel=J.support.boxModel;var M=/^(?:\{.*\}|\[.*\])$/,N=/([a-z])([A-Z])/g;J.extend({cache:{},uuid:0,expando:"jQuery"+(J.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?J.cache[a[J.expando]]:a[J.expando],!!a&&!E(a)},data:function(a,c,d,e){if(!!J.acceptData(a)){var f=J.expando,g=typeof c=="string",h,i=a.nodeType,j=i?J.cache:a,k=i?a[J.expando]:a[J.expando]&&J.expando;if((!k||e&&k&&!j[k][f])&&g&&d===b)return;k||(i?a[J.expando]=k=++J.uuid:k=J.expando),j[k]||(j[k]={},i||(j[k].toJSON=J.noop));if(typeof c=="object"||typeof c=="function")e?j[k][f]=J.extend(j[k][f],c):j[k]=J.extend(j[k],c);return h=j[k],e&&(h[f]||(h[f]={}),h=h[f]),d!==b&&(h[J.camelCase(c)]=d),c==="events"&&!h[c]?h[f]&&h[f].events:g?h[J.camelCase(c)]:h}},removeData:function(b,c,d){if(!!J.acceptData(b)){var e=J.expando,f=b.nodeType,g=f?J.cache:b,h=f?b[J.expando]:J.expando;if(!g[h])return;if(c){var i=d?g[h][e]:g[h];if(i){delete i[c];if(!E(i))return}}if(d){delete g[h][e];if(!E(g[h]))return}var j=g[h][e];J.support.deleteExpando||g!=a?delete g[h]:g[h]=null,j?(g[h]={},f||(g[h].toJSON=J.noop),g[h][e]=j):f&&(J.support.deleteExpando?delete b[J.expando]:b.removeAttribute?b.removeAttribute(J.expando):b[J.expando]=null)}},_data:function(a,b,c){return J.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=J.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),J.fn.extend({data:function(a,c){var d=null;if(typeof a=="undefined"){if(this.length){d=J.data(this[0]);if(this[0].nodeType===1){var e=this[0].attributes,f;for(var g=0,h=e.length;g<h;g++)f=e[g].name,f.indexOf("data-")===0&&(f=J.camelCase(f.substring(5)),F(this[0],f,d[f]))}}return d}if(typeof a=="object")return this.each(function(){J.data(this,a)});var i=a.split(".");return i[1]=i[1]?"."+i[1]:"",c===b?(d=this.triggerHandler("getData"+i[1]+"!",[i[0]]),d===b&&this.length&&(d=J.data(this[0],a),d=F(this[0],a,d)),d===b&&i[1]?this.data(i[0]):d):this.each(function(){var b=J(this),d=[i[0],c];b.triggerHandler("setData"+i[1]+"!",d),J.data(this,a,c),b.triggerHandler("changeData"+i[1]+"!",d)})},removeData:function(a){return this.each(function(){J.removeData(this,a)})}}),J.extend({_mark:function(a,c){a&&(c=(c||"fx")+"mark",J.data(a,c,(J.data(a,c,b,!0)||0)+1,!0))},_unmark:function(a,c,d){a!==!0&&(d=c,c=a,a=!1);if(c){d=d||"fx";var e=d+"mark",f=a?0:(J.data(c,e,b,!0)||1)-1;f?J.data(c,e,f,!0):(J.removeData(c,e,!0),D(c,d,"mark"))}},queue:function(a,c,d){if(a){c=(c||"fx")+"queue";var e=J.data(a,c,b,!0);return d&&(!e||J.isArray(d)?e=J.data(a,c,J.makeArray(d),!0):e.push(d)),e||[]}},dequeue:function(a,b){b=b||"fx";var c=J.queue(a,b),d=c.shift(),e;d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),d.call(a,function(){J.dequeue(a,b)})),c.length||(J.removeData(a,b+"queue",!0),D(a,b,"queue"))}}),J.fn.extend({queue:function(a,c){return typeof a!="string"&&(c=a,a="fx"),c===b?J.queue(this[0],a):this.each(function(){var b=J.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&J.dequeue(this,a)})},dequeue:function(a){return this.each(function(){J.dequeue(this,a)})},delay:function(a,b){return a=J.fx?J.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(){var c=this;setTimeout(function(){J.dequeue(c,b)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function d(){--h||e.resolveWith(f,[f])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var e=J.Deferred(),f=this,g=f.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--)if(l=J.data(f[g],i,b,!0)||(J.data(f[g],j,b,!0)||J.data(f[g],k,b,!0))&&J.data(f[g],i,J._Deferred(),!0))h++,l.done(d);return d(),e.promise()}});var O=/[\n\t\r]/g,P=/\s+/,Q=/\r/g,R=/^(?:button|input)$/i,S=/^(?:button|input|object|select|textarea)$/i,T=/^a(?:rea)?$/i,U=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,V=/\:/,W,X;J.fn.extend({attr:function(a,b){return J.access(this,a,b,!0,J.attr)},removeAttr:function(a){return this.each(function(){J.removeAttr(this,a)})},prop:function(a,b){return J.access(this,a,b,!0,J.prop)},removeProp:function(a){return a=J.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){if(J.isFunction(a))return this.each(function(b){var c=J(this);c.addClass(a.call(this,b,c.attr("class")||""))});if(a&&typeof a=="string"){var b=(a||"").split(P);for(var c=0,d=this.length;c<d;c++){var e=this[c];if(e.nodeType===1)if(!e.className)e.className=a;else{var f=" "+e.className+" ",g=e.className;for(var h=0,i=b.length;h<i;h++)f.indexOf(" "+b[h]+" ")<0&&(g+=" "+b[h]);e.className=J.trim(g)}}}return this},removeClass:function(a){if(J.isFunction(a))return this.each(function(b){var c=J(this);c.removeClass(a.call(this,b,c.attr("class")))});if(a&&typeof a=="string"||a===b){var c=(a||"").split(P);for(var d=0,e=this.length;d<e;d++){var f=this[d];if(f.nodeType===1&&f.className)if(a){var g=(" "+f.className+" ").replace(O," ");for(var h=0,i=c.length;h<i;h++)g=g.replace(" "+c[h]+" "," ");f.className=J.trim(g)}else f.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";return J.isFunction(a)?this.each(function(c){var d=J(this);d.toggleClass(a.call(this,c,d.attr("class"),b),b)}):this.each(function(){if(c==="string"){var e,f=0,g=J(this),h=b,i=a.split(P);while(e=i[f++])h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&J._data(this,"__className__",this.className),this.className=this.className||a===!1?"":J._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ";for(var c=0,d=this.length;c<d;c++)if((" "+this[c].className+" ").replace(O," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e=this[0];if(!arguments.length)return e?(c=J.valHooks[e.nodeName.toLowerCase()]||J.valHooks[e.type],c&&"get"in c&&(d=c.get(e,"value"))!==b?d:(e.value||"").replace(Q,"")):b;var f=J.isFunction(a);return this.each(function(d){var e=J(this),g;if(this.nodeType===1){f?g=a.call(this,d,e.val()):g=a,g==null?g="":typeof g=="number"?g+="":J.isArray(g)&&(g=J.map(g,function(a){return a==null?"":a+""})),c=J.valHooks[this.nodeName.toLowerCase()]||J.valHooks[this.type];if(!c||!("set"in c)||c.set(this,g,"value")===b)this.value=g}})}}),J.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c=a.selectedIndex,d=[],e=a.options,f=a.type==="select-one";if(c<0)return null;for(var g=f?c:0,h=f?c+1:e.length;g<h;g++){var i=e[g];if(i.selected&&(J.support.optDisabled?!i.disabled:i.getAttribute("disabled")===null)&&(!i.parentNode.disabled||!J.nodeName(i.parentNode,"optgroup"))){b=J(i).val();if(f)return b;d.push(b)}}return f&&!d.length&&e.length?J(e[c]).val():d},set:function(a,b){var c=J.makeArray(b);return J(a).find("option").each(function(){this.selected=J.inArray(J(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attrFix:{tabindex:"tabIndex"},attr:function(a,c,d,e){var f=a.nodeType;if(!a||f===3||f===8||f===2)return b;if(e&&c in J.attrFn)return J(a)[c](d);if("getAttribute"in a){var g,h,i=f!==1||!J.isXMLDoc(a);return c=i&&J.attrFix[c]||c,h=J.attrHooks[c],h||(!U.test(c)||typeof d!="boolean"&&d!==b&&d.toLowerCase()!==c.toLowerCase()?W&&(J.nodeName(a,"form")||V.test(c))&&(h=W):h=X),d!==b?d===null?(J.removeAttr(a,c),b):h&&"set"in h&&i&&(g=h.set(a,d,c))!==b?g:(a.setAttribute(c,""+d),d):h&&"get"in h&&i?h.get(a,c):(g=a.getAttribute(c),g===null?b:g)}return J.prop(a,c,d)},removeAttr:function(a,b){var c;a.nodeType===1&&(b=J.attrFix[b]||b,J.support.getSetAttribute?a.removeAttribute(b):(J.attr(a,b,""),a.removeAttributeNode(a.getAttributeNode(b))),U.test(b)&&(c=J.propFix[b]||b)in a&&(a[c]=!1))},attrHooks:{type:{set:function(a,b){if(R.test(a.nodeName)&&a.parentNode)J.error("type property can't be changed");else if(!J.support.radioValue&&b==="radio"&&J.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},tabIndex:{get:function(a){var c=a.getAttributeNode("tabIndex");return c&&c.specified?parseInt(c.value,10):S.test(a.nodeName)||T.test(a.nodeName)&&a.href?0:b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e=a.nodeType;if(!a||e===3||e===8||e===2)return b;var f,g,h=e!==1||!J.isXMLDoc(a);return c=h&&J.propFix[c]||c,g=J.propHooks[c],d!==b?g&&"set"in g&&(f=g.set(a,d,c))!==b?f:a[c]=d:g&&"get"in g&&(f=g.get(a,c))!==b?f:a[c]},propHooks:{}}),X={get:function(a,c){return a[J.propFix[c]||c]?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?J.removeAttr(a,c):(d=J.propFix[c]||c,d in a&&(a[d]=b),a.setAttribute(c,c.toLowerCase())),c}},J.attrHooks.value={get:function(a,b){return W&&J.nodeName(a,"button")?W.get(a,b):a.value},set:function(a,b,c){if(W&&J.nodeName(a,"button"))return W.set(a,b,c);a.value=b}},J.support.getSetAttribute||(J.attrFix=J.propFix,W=J.attrHooks.name=J.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&d.nodeValue!==""?d.nodeValue:b},set:function(a,b,c){var d=a.getAttributeNode(c);if(d)return d.nodeValue=b,b}},J.each(["width","height"],function(a,b){J.attrHooks[b]=J.extend(J.attrHooks[b],{set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}})})),J.support.hrefNormalized||J.each(["href","src","width","height"],function(a,c){J.attrHooks[c]=J.extend(J.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),J.support.style||(J.attrHooks.style={get:function(a){return a.style
.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),J.support.optSelected||(J.propHooks.selected=J.extend(J.propHooks.selected,{get:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}})),J.support.checkOn||J.each(["radio","checkbox"],function(){J.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),J.each(["radio","checkbox"],function(){J.valHooks[this]=J.extend(J.valHooks[this],{set:function(a,b){if(J.isArray(b))return a.checked=J.inArray(J(a).val(),b)>=0}})});var Y=Object.prototype.hasOwnProperty,Z=/\.(.*)$/,$=/^(?:textarea|input|select)$/i,_=/\./g,ba=/ /g,bb=/[^\w\s.|`]/g,bc=function(a){return a.replace(bb,"\\$&")};J.event={add:function(a,c,d,e){if(a.nodeType!==3&&a.nodeType!==8){if(d===!1)d=C;else if(!d)return;var f,g;d.handler&&(f=d,d=f.handler),d.guid||(d.guid=J.guid++);var h=J._data(a);if(!h)return;var i=h.events,j=h.handle;i||(h.events=i={}),j||(h.handle=j=function(a){return typeof J!="undefined"&&(!a||J.event.triggered!==a.type)?J.event.handle.apply(j.elem,arguments):b}),j.elem=a,c=c.split(" ");var k,l=0,m;while(k=c[l++]){g=f?J.extend({},f):{handler:d,data:e},k.indexOf(".")>-1?(m=k.split("."),k=m.shift(),g.namespace=m.slice(0).sort().join(".")):(m=[],g.namespace=""),g.type=k,g.guid||(g.guid=d.guid);var n=i[k],o=J.event.special[k]||{};if(!n){n=i[k]=[];if(!o.setup||o.setup.call(a,e,m,j)===!1)a.addEventListener?a.addEventListener(k,j,!1):a.attachEvent&&a.attachEvent("on"+k,j)}o.add&&(o.add.call(a,g),g.handler.guid||(g.handler.guid=d.guid)),n.push(g),J.event.global[k]=!0}a=null}},global:{},remove:function(a,c,d,e){if(a.nodeType!==3&&a.nodeType!==8){d===!1&&(d=C);var f,g,h,i,j=0,k,l,m,n,o,p,q,r=J.hasData(a)&&J._data(a),s=r&&r.events;if(!r||!s)return;c&&c.type&&(d=c.handler,c=c.type);if(!c||typeof c=="string"&&c.charAt(0)==="."){c=c||"";for(g in s)J.event.remove(a,g+c);return}c=c.split(" ");while(g=c[j++]){q=g,p=null,k=g.indexOf(".")<0,l=[],k||(l=g.split("."),g=l.shift(),m=new RegExp("(^|\\.)"+J.map(l.slice(0).sort(),bc).join("\\.(?:.*\\.)?")+"(\\.|$)")),o=s[g];if(!o)continue;if(!d){for(i=0;i<o.length;i++){p=o[i];if(k||m.test(p.namespace))J.event.remove(a,q,p.handler,i),o.splice(i--,1)}continue}n=J.event.special[g]||{};for(i=e||0;i<o.length;i++){p=o[i];if(d.guid===p.guid){if(k||m.test(p.namespace))e==null&&o.splice(i--,1),n.remove&&n.remove.call(a,p);if(e!=null)break}}if(o.length===0||e!=null&&o.length===1)(!n.teardown||n.teardown.call(a,l)===!1)&&J.removeEvent(a,g,r.handle),f=null,delete s[g]}if(J.isEmptyObject(s)){var t=r.handle;t&&(t.elem=null),delete r.events,delete r.handle,J.isEmptyObject(r)&&J.removeData(a,b,!0)}}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,f){var g=c.type||c,h=[],i;g.indexOf("!")>=0&&(g=g.slice(0,-1),i=!0),g.indexOf(".")>=0&&(h=g.split("."),g=h.shift(),h.sort());if(!!e&&!J.event.customEvent[g]||!!J.event.global[g]){c=typeof c=="object"?c[J.expando]?c:new J.Event(g,c):new J.Event(g),c.type=g,c.exclusive=i,c.namespace=h.join("."),c.namespace_re=new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.)?")+"(\\.|$)");if(f||!e)c.preventDefault(),c.stopPropagation();if(!e){J.each(J.cache,function(){var a=J.expando,b=this[a];b&&b.events&&b.events[g]&&J.event.trigger(c,d,b.handle.elem)});return}if(e.nodeType===3||e.nodeType===8)return;c.result=b,c.target=e,d=d?J.makeArray(d):[],d.unshift(c);var j=e,k=g.indexOf(":")<0?"on"+g:"";do{var l=J._data(j,"handle");c.currentTarget=j,l&&l.apply(j,d),k&&J.acceptData(j)&&j[k]&&j[k].apply(j,d)===!1&&(c.result=!1,c.preventDefault()),j=j.parentNode||j.ownerDocument||j===c.target.ownerDocument&&a}while(j&&!c.isPropagationStopped());if(!c.isDefaultPrevented()){var m,n=J.event.special[g]||{};if((!n._default||n._default.call(e.ownerDocument,c)===!1)&&(g!=="click"||!J.nodeName(e,"a"))&&J.acceptData(e)){try{k&&e[g]&&(m=e[k],m&&(e[k]=null),J.event.triggered=g,e[g]())}catch(o){}m&&(e[k]=m),J.event.triggered=b}}return c.result}},handle:function(c){c=J.event.fix(c||a.event);var d=((J._data(this,"events")||{})[c.type]||[]).slice(0),e=!c.exclusive&&!c.namespace,f=Array.prototype.slice.call(arguments,0);f[0]=c,c.currentTarget=this;for(var g=0,h=d.length;g<h;g++){var i=d[g];if(e||c.namespace_re.test(i.namespace)){c.handler=i.handler,c.data=i.data,c.handleObj=i;var j=i.handler.apply(this,f);j!==b&&(c.result=j,j===!1&&(c.preventDefault(),c.stopPropagation()));if(c.isImmediatePropagationStopped())break}}return c.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(a){if(a[J.expando])return a;var c=a;a=J.Event(c);for(var d=this.props.length,e;d;)e=this.props[--d],a[e]=c[e];a.target||(a.target=a.srcElement||G),a.target.nodeType===3&&(a.target=a.target.parentNode),!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement);if(a.pageX==null&&a.clientX!=null){var f=a.target.ownerDocument||G,g=f.documentElement,h=f.body;a.pageX=a.clientX+(g&&g.scrollLeft||h&&h.scrollLeft||0)-(g&&g.clientLeft||h&&h.clientLeft||0),a.pageY=a.clientY+(g&&g.scrollTop||h&&h.scrollTop||0)-(g&&g.clientTop||h&&h.clientTop||0)}return a.which==null&&(a.charCode!=null||a.keyCode!=null)&&(a.which=a.charCode!=null?a.charCode:a.keyCode),!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey),!a.which&&a.button!==b&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0),a},guid:1e8,proxy:J.proxy,special:{ready:{setup:J.bindReady,teardown:J.noop},live:{add:function(a){J.event.add(this,y(a.origType,a.selector),J.extend({},a,{handler:z,guid:a.handler.guid}))},remove:function(a){J.event.remove(this,y(a.origType,a.selector),a)}},beforeunload:{setup:function(a,b,c){J.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}}},J.removeEvent=G.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},J.Event=function(a,b){if(!this.preventDefault)return new J.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?B:C):this.type=a,b&&J.extend(this,b),this.timeStamp=J.now(),this[J.expando]=!0},J.Event.prototype={preventDefault:function(){this.isDefaultPrevented=B;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=B;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=B,this.stopPropagation()},isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C};var bd=function(a){var b=a.relatedTarget;a.type=a.data;try{if(b&&b!==G&&!b.parentNode)return;while(b&&b!==this)b=b.parentNode;b!==this&&J.event.handle.apply(this,arguments)}catch(c){}},be=function(a){a.type=a.data,J.event.handle.apply(this,arguments)};J.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){J.event.special[a]={setup:function(c){J.event.add(this,b,c&&c.selector?be:bd,a)},teardown:function(a){J.event.remove(this,b,a&&a.selector?be:bd)}}}),J.support.submitBubbles||(J.event.special.submit={setup:function(a,b){if(!J.nodeName(this,"form"))J.event.add(this,"click.specialSubmit",function(a){var b=a.target,c=b.type;(c==="submit"||c==="image")&&J(b).closest("form").length&&A("submit",this,arguments)}),J.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,c=b.type;(c==="text"||c==="password")&&J(b).closest("form").length&&a.keyCode===13&&A("submit",this,arguments)});else return!1},teardown:function(a){J.event.remove(this,".specialSubmit")}});if(!J.support.changeBubbles){var bf,bg=function(a){var b=a.type,c=a.value;return b==="radio"||b==="checkbox"?c=a.checked:b==="select-multiple"?c=a.selectedIndex>-1?J.map(a.options,function(a){return a.selected}).join("-"):"":J.nodeName(a,"select")&&(c=a.selectedIndex),c},bh=function(a){var c=a.target,d,e;if(!!$.test(c.nodeName)&&!c.readOnly){d=J._data(c,"_change_data"),e=bg(c),(a.type!=="focusout"||c.type!=="radio")&&J._data(c,"_change_data",e);if(d===b||e===d)return;if(d!=null||e)a.type="change",a.liveFired=b,J.event.trigger(a,arguments[1],c)}};J.event.special.change={filters:{focusout:bh,beforedeactivate:bh,click:function(a){var b=a.target,c=J.nodeName(b,"input")?b.type:"";(c==="radio"||c==="checkbox"||J.nodeName(b,"select"))&&bh.call(this,a)},keydown:function(a){var b=a.target,c=J.nodeName(b,"input")?b.type:"";(a.keyCode===13&&!J.nodeName(b,"textarea")||a.keyCode===32&&(c==="checkbox"||c==="radio")||c==="select-multiple")&&bh.call(this,a)},beforeactivate:function(a){var b=a.target;J._data(b,"_change_data",bg(b))}},setup:function(a,b){if(this.type==="file")return!1;for(var c in bf)J.event.add(this,c+".specialChange",bf[c]);return $.test(this.nodeName)},teardown:function(a){return J.event.remove(this,".specialChange"),$.test(this.nodeName)}},bf=J.event.special.change.filters,bf.focus=bf.beforeactivate}J.support.focusinBubbles||J.each({focus:"focusin",blur:"focusout"},function(a,b){function c(a){var c=J.event.fix(a);c.type=b,c.originalEvent={},J.event.trigger(c,null,c.target),c.isDefaultPrevented()&&a.preventDefault()}var d=0;J.event.special[b]={setup:function(){d++===0&&G.addEventListener(a,c,!0)},teardown:function(){--d===0&&G.removeEventListener(a,c,!0)}}}),J.each(["bind","one"],function(a,c){J.fn[c]=function(a,d,e){var f;if(typeof a=="object"){for(var g in a)this[c](g,d,a[g],e);return this}if(arguments.length===2||d===!1)e=d,d=b;c==="one"?(f=function(a){return J(this).unbind(a,f),e.apply(this,arguments)},f.guid=e.guid||J.guid++):f=e;if(a==="unload"&&c!=="one")this.one(a,d,e);else for(var h=0,i=this.length;h<i;h++)J.event.add(this[h],a,f,d);return this}}),J.fn.extend({unbind:function(a,b){if(typeof a=="object"&&!a.preventDefault)for(var c in a)this.unbind(c,a[c]);else for(var d=0,e=this.length;d<e;d++)J.event.remove(this[d],a,b);return this},delegate:function(a,b,c,d){return this.live(b,c,d,a)},undelegate:function(a,b,c){return arguments.length===0?this.unbind("live"):this.die(b,null,c,a)},trigger:function(a,b){return this.each(function(){J.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return J.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||J.guid++,d=0,e=function(c){var e=(J.data(this,"lastToggle"+a.guid)||0)%d;return J.data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var bi={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};J.each(["live","die"],function(a,c){J.fn[c]=function(a,d,e,f){var g,h=0,i,j,k,l=f||this.selector,m=f?this:J(this.context);if(typeof a=="object"&&!a.preventDefault){for(var n in a)m[c](n,d,a[n],l);return this}if(c==="die"&&!a&&f&&f.charAt(0)===".")return m.unbind(f),this;if(d===!1||J.isFunction(d))e=d||C,d=b;a=(a||"").split(" ");while((g=a[h++])!=null){i=Z.exec(g),j="",i&&(j=i[0],g=g.replace(Z,""));if(g==="hover"){a.push("mouseenter"+j,"mouseleave"+j);continue}k=g,bi[g]?(a.push(bi[g]+j),g=g+j):g=(bi[g]||g)+j;if(c==="live")for(var o=0,p=m.length;o<p;o++)J.event.add(m[o],"live."+y(g,l),{data:d,selector:l,handler:e,origType:g,origHandler:e,preType:k});else m.unbind("live."+y(g,l),e)}return this}}),J.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,b){J.fn[b]=function(a,c){return c==null&&(c=a,a=null),arguments.length>0?this.bind(b,a,c):this.trigger(b)},J.attrFn&&(J.attrFn[b]=!0)}),function(){function a(a,b,c,d,e,f){for(var g=0,h=d.length;g<h;g++){var i=d[g];if(i){var j=!1;i=i[a];while(i){if(i.sizcache===c){j=d[i.sizset];break}if(i.nodeType===1){f||(i.sizcache=c,i.sizset=g);if(typeof b!="string"){if(i===b){j=!0;break}}else if(k.filter(b,[i]).length>0){j=i;break}}i=i[a]}d[g]=j}}}function c(a,b,c,d,e,f){for(var g=0,h=d.length;g<h;g++){var i=d[g];if(i){var j=!1;i=i[a];while(i){if(i.sizcache===c){j=d[i.sizset];break}i.nodeType===1&&!f&&(i.sizcache=c,i.sizset=g);if(i.nodeName.toLowerCase()===b){j=i;break}i=i[a]}d[g]=j}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e=0,f=Object.prototype.toString,g=!1,h=!0,i=/\\/g,j=/\W/;[0,0].sort(function(){return h=!1,0});var k=function(a,b,c,e){c=c||[],b=b||G;var g=b;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!="string")return c;var h,i,j,n,o,q,r,s,u=!0,v=k.isXML(b),w=[],x=a;do{d.exec(""),h=d.exec(x);if(h){x=h[3],w.push(h[1]);if(h[2]){n=h[3];break}}}while(h);if(w.length>1&&m.exec(a))if(w.length===2&&l.relative[w[0]])i=t(w[0]+w[1],b);else{i=l.relative[w[0]]?[b]:k(w.shift(),b);while(w.length)a=w.shift(),l.relative[a]&&(a+=w.shift()),i=t(a,i)}else{!e&&w.length>1&&b.nodeType===9&&!v&&l.match.ID.test(w[0])&&!l.match.ID.test(w[w.length-1])&&(o=k.find(w.shift(),b,v),b=o.expr?k.filter(o.expr,o.set)[0]:o.set[0]);if(b){o=e?{expr:w.pop(),set:p(e)}:k.find(w.pop(),w.length===1&&(w[0]==="~"||w[0]==="+")&&b.parentNode?b.parentNode:b,v),i=o.expr?k.filter(o.expr,o.set):o.set,w.length>0?j=p(i):u=!1;while(w.length)q=w.pop(),r=q,l.relative[q]?r=w.pop():q="",r==null&&(r=b),l.relative[q](j,r,v)}else j=w=[]}j||(j=i),j||k.error(q||a);if(f.call(j)==="[object Array]")if(!u)c.push.apply(c,j);else if(b&&b.nodeType===1)for(s=0;j[s]!=null;s++)j[s]&&(j[s]===!0||j[s].nodeType===1&&k.contains(b,j[s]))&&c.push(i[s]);else for(s=0;j[s]!=null;s++)j[s]&&j[s].nodeType===1&&c.push(i[s]);else p(j,c);return n&&(k(n,g,c,e),k.uniqueSort(c)),c};k.uniqueSort=function(a){if(r){g=h,a.sort(r);if(g)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},k.matches=function(a,b){return k(a,null,null,b)},k.matchesSelector=function(a,b){return k(b,null,null,[a]).length>0},k.find=function(a,b,c){var d;if(!a)return[];for(var e=0,f=l.order.length;e<f;e++){var g,h=l.order[e];if(g=l.leftMatch[h].exec(a)){var j=g[1];g.splice(1,1);if(j.substr(j.length-1)!=="\\"){g[1]=(g[1]||"").replace(i,""),d=l.find[h](g,b,c);if(d!=null){a=a.replace(l.match[h],"");break}}}}return d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]),{set:d,expr:a}},k.filter=function(a,c,d,e){var f,g,h=a,i=[],j=c,m=c&&c[0]&&k.isXML(c[0]);while(a&&c.length){for(var n in l.filter)if((f=l.leftMatch[n].exec(a))!=null&&f[2]){var o,p,q=l.filter[n],r=f[1];g=!1,f.splice(1,1);if(r.substr(r.length-1)==="\\")continue;j===i&&(i=[]);if(l.preFilter[n]){f=l.preFilter[n](f,j,d,i,e,m);if(!f)g=o=!0;else if(f===!0)continue}if(f)for(var s=0;(p=j[s])!=null;s++)if(p){o=q(p,f,s,j);var t=e^!!o;d&&o!=null?t?g=!0:j[s]=!1:t&&(i.push(p),g=!0)}if(o!==b){d||(j=i),a=a.replace(l.match[n],"");if(!g)return[];break}}if(a===h)if(g==null)k.error(a);else break;h=a}return j},k.error=function(a){throw"Syntax error, unrecognized expression: "+a};var l=k.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!j.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&k.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!j.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&k.filter(b,a,!0)}},"":function(b,d,f){var g,h=e++,i=a;typeof d=="string"&&!j.test(d)&&(d=d.toLowerCase(),g=d,i=c),i("parentNode",d,h,b,g,f)},"~":function(b,d,f){var g,h=e++,i=a;typeof d=="string"&&!j.test(d)&&(d=d.toLowerCase(),g=d,i=c),i("previousSibling",d,h,b,g,f)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(i,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(i,"")},TAG:function(a,b){return a[1].replace(i,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||k.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&k.error(a[0]);return a[0]=e++,a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(i,"");return!f&&l.attrMap[g]&&(a[1]=l.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(i,""),a[2]==="~="&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(a,b,c,e,f){if(a[1]==="not")if((d.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=k(a[3],null,null,b);else{var g=k.filter(a[3],b,c,!0^f);return c||e.push.apply(e,g),!1}else if(l.match.POS.test(a[0])||l.match.CHILD.test(a[0]))return!0;return a},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!k(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=l.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||k.getText([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}k.error(e)},CHILD:function(a,b){var c=b[1],d=a;switch(c){case"only":case"first":while(d=d.previousSibling)if(d.nodeType===1)return!1;if(c==="first")return!0;d=a;case"last":while(d=d.nextSibling)if(d.nodeType===1)return!1;return!0;case"nth":var e=b[2],f=b[3];if(e===1&&f===0)return!0;var g=b[0],h=a.parentNode;if(h&&(h.sizcache!==g||!a.nodeIndex)){var i=0;for(d=h.firstChild;d;d=d.nextSibling)d.nodeType===1&&(d.nodeIndex=++i);h.sizcache=g}var j=a.nodeIndex-f;return e===0?j===0:j%e===0&&j/e>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=l.attrHandle[c]?l.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=l.setFilters[e];if(f)return f(a,c,b,d)}}},m=l.match.POS,n=function(a,b){return"\\"+(b-0+1)};for(var o in l.match)l.match[o]=new RegExp(l.match[o].source+/(?![^\[]*\])(?![^\(]*\))/.source),l.leftMatch[o]=new RegExp(/(^(?:.|\r|\n)*?)/.source+l.match[o].source.replace(/\\(\d+)/g,n));var p=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(G.documentElement.childNodes,0)[0].nodeType}catch(q){p=function(a,b){var c=0,d=b||[];if(f.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var r,s;G.documentElement.compareDocumentPosition?r=function(a,b){return a===b?(g=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(r=function(a,b){if(a===b)return g=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],h=a.parentNode,i=b.parentNode,j=h;if(h===i)return s(a,b);if(!h)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return s(e[k],f[k]);return k===c?s(a,f[k],-1):s(e[k],b,1)},s=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),k.getText=function(a){var b="",c;for(var d=0;a[d];d++)c=a[d],c.nodeType===3||c.nodeType===4?b+=c.nodeValue:c.nodeType!==8&&(b+=k.getText(c.childNodes));return b},function(){var a=G.createElement("div"),c="script"+(new Date).getTime(),d=G.documentElement;a.innerHTML="<a name='"+c+"'/>",d.insertBefore(a,d.firstChild),G.getElementById(c)&&(l.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},l.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),d.removeChild(a),d=a=null}(),function(){var a=G.createElement("div");a.appendChild(G.createComment("")),a.getElementsByTagName("*").length>0&&(l.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(l.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),G.querySelectorAll&&function(){var a=k,b=G.createElement("div"),c="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){k=function(b,d,e,f){d=d||G;if(!f&&!k.isXML(d)){var g=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(g&&(d.nodeType===1||d.nodeType===9)){if(g[1])return p(d.getElementsByTagName(b),e);if(g[2]&&l.find.CLASS&&d.getElementsByClassName)return p(d.getElementsByClassName(g[2]),e)}if(d.nodeType===9){if(b==="body"&&d.body)return p([d.body],e);if(g&&g[3]){var h=d.getElementById(g[3]);if(!h||!h.parentNode)return p([],e);if(h.id===g[3])return p([h],e)}try{return p(d.querySelectorAll(b),e)}catch(i){}}else if(d.nodeType===1&&d.nodeName.toLowerCase()!=="object"){var j=d,m=d.getAttribute("id"),n=m||c,o=d.parentNode,q=/^\s*[+~]/.test(b);m?n=n.replace(/'/g,"\\$&"):d.setAttribute("id",n),q&&o&&(d=d.parentNode);try{if(!q||o)return p(d.querySelectorAll("[id='"+n+"'] "+b),e)}catch(r){}finally{m||j.removeAttribute("id")}}}return a(b,d,e,f)};for(var d in a)k[d]=a[d];b=null}}(),function(){var a=G.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var c=!b.call(G.createElement("div"),"div"),d=!1;try{b.call(G.documentElement,"[test!='']:sizzle")}catch(e){d=!0}k.matchesSelector=function(a,e){e=e.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!k.isXML(a))try{if(d||!l.match.PSEUDO.test(e)&&!/!=/.test(e)){var f=b.call(a,e);if(f||!c||a.document&&a.document.nodeType!==11)return f}}catch(g){}return k(e,null,null,[a]).length>0}}}(),function(){var a=G.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;l.order.splice(1,0,"CLASS"),l.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),G.documentElement.contains?k.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:G.documentElement.compareDocumentPosition?k.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:k.contains=function(){return!1},k.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var t=function(a,b){var c,d=[],e="",f=b.nodeType?[b]:b;while(c=l.match.PSEUDO.exec(a))e+=c[0],a=a.replace(l.match.PSEUDO,"");a=l.relative[a]?a+"*":a;for(var g=0,h=f.length;g<h;g++)k(a,f[g],d);return k.filter(e,d)};J.find=k,J.expr=k.selectors,J.expr[":"]=J.expr.filters,J.unique=k.uniqueSort,J.text=k.getText,J.isXMLDoc=k.isXML,J.contains=k.contains}();var bj=/Until$/,bk=/^(?:parents|prevUntil|prevAll)/,bl=/,/,bm=/^.[^:#\[\.,]*$/,bn=Array.prototype.slice,bo=J.expr.match.POS,bp={children:!0,contents:!0,next:!0,prev:!0};J.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return J(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(J.contains(b[c],this))return!0});var e=this.pushStack("","find",a),f,g,h;for(c=0,d=this.length;c<d;c++){f=e.length,J.find(a,this[c],e);if(c>0)for(g=f;g<e.length;g++)for(h=0;h<f;h++)if(e[h]===e[g]){e.splice(g--,1);break}}return e},has:function(a){var b=J(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(J.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(w(this,a,!1),"not",a)},filter:function(a){return this.pushStack(w(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?J.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,f=this[0];if(J.isArray(a)){var g,h,i={},j=1;if(f&&a.length){for(d=0,e=a.length;d<e;d++)h=a[d],i[h]||(i[h]=bo.test(h)?J(h,b||this.context):h);while(f&&f.ownerDocument&&f!==b){for(h in i)g=i[h],(g.jquery?g.index(f)>-1:J(f).is(g))&&c.push({selector:h,elem:f,level:j});f=f.parentNode,j++}}return c}var k=bo.test(a)||typeof a!="string"?J(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){f=this[d];while(f){if(k?k.index(f)>-1:J.find.matchesSelector(f,a)){c.push(f);break}f=f.parentNode;if(!f||!f.ownerDocument||f===b||f.nodeType===11)break}}return c=c.length>1?J.unique(c):c,this.pushStack(c,"closest",a)},index:function(a){return!a||typeof a=="string"?J.inArray(this[0],a?J(a):this.parent().children()):J.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a=="string"?J(a,b):J.makeArray(a&&a.nodeType?[a]:a),d=J.merge(this.get(),c);return this.pushStack(x(c[0])||x(d[0])?d:J.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),J.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return J.dir(a,"parentNode")},parentsUntil:function(a,b,c){return J.dir(a,"parentNode",c)},next:function(a){return J.nth(a,2,"nextSibling")},prev:function(a){return J.nth(a,2,"previousSibling")},nextAll:function(a){return J.dir(a,"nextSibling")},prevAll:function(a){return J.dir(a,"previousSibling")},nextUntil:function(a,b,c){return J.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return J.dir(a,"previousSibling",c)},siblings:function(a){return J.sibling(a.parentNode.firstChild,a)},children:function(a){return J.sibling(a.firstChild)},contents:function(a){return J.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:J.makeArray(a.childNodes)}},function(a,b){J.fn[a]=function(c,d){var e=J.map(this,b,c),f=bn.call(arguments);return bj.test(a)||(d=c),d&&typeof d=="string"&&(e=J.filter(d,e)),e=this.length>1&&!bp[a]?J.unique(e):e,(this.length>1||bl.test(d))&&bk.test(a)&&(e=e.reverse()),this.pushStack(e,a,f.join(","))}}),J.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),b.length===1?J.find.matchesSelector(b[0],a)?[b[0]]:[]:J.find.matches(a,b)},dir:function(a,c,d){var e=[],f=a[c];while(f&&f.nodeType!==9&&(d===b||f.nodeType!==1||!J(f).is(d)))f.nodeType===1&&e.push(f),f=f[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var bq=/ jQuery\d+="(?:\d+|null)"/g,br=/^\s+/,bs=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,bt=/<([\w:]+)/,bu=/<tbody/i,bv=/<|&#?\w+;/,bw=/<(?:script|object|embed|option|style)/i,bx=/checked\s*(?:[^=]|=\s*.checked.)/i,by=/\/(java|ecma)script/i,bz=/^\s*<!(?:\[CDATA\[|\-\-)/,bA={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};bA.optgroup=bA.option,bA.tbody=bA.tfoot=bA.colgroup=bA.caption=bA.thead,bA.th=bA.td,J.support.htmlSerialize||(bA._default=[1,"div<div>","</div>"]),J.fn.extend({text:function(a){return J.isFunction(a)?this.each(function(b){var c=J(this);c.text(a.call(this,b,c.text()))}):typeof a!="object"&&a!==b?this.empty().append((this[0]&&this[0].ownerDocument||G).createTextNode(a)):J.text(this)},wrapAll:function(a){if(J.isFunction(a))return this.each(function(b){J(this).wrapAll(a.call(this,b))});if(this[0]){var b=J(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return J.isFunction(a)?this.each(function(b){J(this).wrapInner(a.call(this,b))}):this.each(function(){var b=J(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){J(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){J.nodeName(this,"body")||J(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=J(arguments[0]);return a.push.apply(a,this.toArray()),this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);return a.push.apply(a,J(arguments[0]).toArray()),a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||J.filter(a,[d]).length)!b&&d.nodeType===1&&(J.cleanData(d.getElementsByTagName("*"))
,J.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&J.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return J.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(bq,""):null;if(typeof a=="string"&&!bw.test(a)&&(J.support.leadingWhitespace||!br.test(a))&&!bA[(bt.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(bs,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)this[c].nodeType===1&&(J.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}else J.isFunction(a)?this.each(function(b){var c=J(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){return this[0]&&this[0].parentNode?J.isFunction(a)?this.each(function(b){var c=J(this),d=c.html();c.replaceWith(a.call(this,b,d))}):(typeof a!="string"&&(a=J(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;J(this).remove(),b?J(b).before(a):J(c).append(a)})):this.length?this.pushStack(J(J.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,f,g,h,i=a[0],j=[];if(!J.support.checkClone&&arguments.length===3&&typeof i=="string"&&bx.test(i))return this.each(function(){J(this).domManip(a,c,d,!0)});if(J.isFunction(i))return this.each(function(e){var f=J(this);a[0]=i.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){h=i&&i.parentNode,J.support.parentNode&&h&&h.nodeType===11&&h.childNodes.length===this.length?e={fragment:h}:e=J.buildFragment(a,this,j),g=e.fragment,g.childNodes.length===1?f=g=g.firstChild:f=g.firstChild;if(f){c=c&&J.nodeName(f,"tr");for(var k=0,l=this.length,m=l-1;k<l;k++)d.call(c?v(this[k],f):this[k],e.cacheable||l>1&&k<m?J.clone(g,!0,!0):g)}j.length&&J.each(j,p)}return this}}),J.buildFragment=function(a,b,c){var d,e,f,g=b&&b[0]?b[0].ownerDocument||b[0]:G;return a.length===1&&typeof a[0]=="string"&&a[0].length<512&&g===G&&a[0].charAt(0)==="<"&&!bw.test(a[0])&&(J.support.checkClone||!bx.test(a[0]))&&(e=!0,f=J.fragments[a[0]],f&&f!==1&&(d=f)),d||(d=g.createDocumentFragment(),J.clean(a,g,d,c)),e&&(J.fragments[a[0]]=f?d:1),{fragment:d,cacheable:e}},J.fragments={},J.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){J.fn[a]=function(c){var d=[],e=J(c),f=this.length===1&&this[0].parentNode;if(f&&f.nodeType===11&&f.childNodes.length===1&&e.length===1)return e[b](this[0]),this;for(var g=0,h=e.length;g<h;g++){var i=(g>0?this.clone(!0):this).get();J(e[g])[b](i),d=d.concat(i)}return this.pushStack(d,a,e.selector)}}),J.extend({clone:function(a,b,c){var d=a.cloneNode(!0),e,f,g;if((!J.support.noCloneEvent||!J.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!J.isXMLDoc(a)){t(a,d),e=s(a),f=s(d);for(g=0;e[g];++g)t(e[g],f[g])}if(b){u(a,d);if(c){e=s(a),f=s(d);for(g=0;e[g];++g)u(e[g],f[g])}}return d},clean:function(a,b,c,d){var e;b=b||G,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||G);var f=[],g;for(var h=0,i;(i=a[h])!=null;h++){typeof i=="number"&&(i+="");if(!i)continue;if(typeof i=="string")if(!bv.test(i))i=b.createTextNode(i);else{i=i.replace(bs,"<$1></$2>");var j=(bt.exec(i)||["",""])[1].toLowerCase(),k=bA[j]||bA._default,l=k[0],m=b.createElement("div");m.innerHTML=k[1]+i+k[2];while(l--)m=m.lastChild;if(!J.support.tbody){var n=bu.test(i),o=j==="table"&&!n?m.firstChild&&m.firstChild.childNodes:k[1]==="<table>"&&!n?m.childNodes:[];for(g=o.length-1;g>=0;--g)J.nodeName(o[g],"tbody")&&!o[g].childNodes.length&&o[g].parentNode.removeChild(o[g])}!J.support.leadingWhitespace&&br.test(i)&&m.insertBefore(b.createTextNode(br.exec(i)[0]),m.firstChild),i=m.childNodes}var p;if(!J.support.appendChecked)if(i[0]&&typeof (p=i.length)=="number")for(g=0;g<p;g++)q(i[g]);else q(i);i.nodeType?f.push(i):f=J.merge(f,i)}if(c){e=function(a){return!a.type||by.test(a.type)};for(h=0;f[h];h++)if(d&&J.nodeName(f[h],"script")&&(!f[h].type||f[h].type.toLowerCase()==="text/javascript"))d.push(f[h].parentNode?f[h].parentNode.removeChild(f[h]):f[h]);else{if(f[h].nodeType===1){var r=J.grep(f[h].getElementsByTagName("script"),e);f.splice.apply(f,[h+1,0].concat(r))}c.appendChild(f[h])}}return f},cleanData:function(a){var b,c,d=J.cache,e=J.expando,f=J.event.special,g=J.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&J.noData[i.nodeName.toLowerCase()])continue;c=i[J.expando];if(c){b=d[c]&&d[c][e];if(b&&b.events){for(var j in b.events)f[j]?J.event.remove(i,j):J.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[J.expando]:i.removeAttribute&&i.removeAttribute(J.expando),delete d[c]}}}});var bB=/alpha\([^)]*\)/i,bC=/opacity=([^)]*)/,bD=/-([a-z])/ig,bE=/([A-Z]|^ms)/g,bF=/^-?\d+(?:px)?$/i,bG=/^-?\d/,bH=/^[+\-]=/,bI=/[^+\-\.\de]+/g,bJ={position:"absolute",visibility:"hidden",display:"block"},bK=["Left","Right"],bL=["Top","Bottom"],bM,bN,bO,bP=function(a,b){return b.toUpperCase()};J.fn.css=function(a,c){return arguments.length===2&&c===b?this:J.access(this,a,c,!0,function(a,c,d){return d!==b?J.style(a,c,d):J.css(a,c)})},J.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bM(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{zIndex:!0,fontWeight:!0,opacity:!0,zoom:!0,lineHeight:!0,widows:!0,orphans:!0},cssProps:{"float":J.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var f,g,h=J.camelCase(c),i=a.style,j=J.cssHooks[h];c=J.cssProps[h]||h;if(d===b)return j&&"get"in j&&(f=j.get(a,!1,e))!==b?f:i[c];g=typeof d;if(g==="number"&&isNaN(d)||d==null)return;g==="string"&&bH.test(d)&&(d=+d.replace(bI,"")+parseFloat(J.css(a,c))),g==="number"&&!J.cssNumber[h]&&(d+="px");if(!j||!("set"in j)||(d=j.set(a,d))!==b)try{i[c]=d}catch(k){}}},css:function(a,c,d){var e,f;c=J.camelCase(c),f=J.cssHooks[c],c=J.cssProps[c]||c,c==="cssFloat"&&(c="float");if(f&&"get"in f&&(e=f.get(a,!0,d))!==b)return e;if(bM)return bM(a,c)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]},camelCase:function(a){return a.replace(bD,bP)}}),J.curCSS=J.css,J.each(["height","width"],function(a,b){J.cssHooks[b]={get:function(a,c,d){var e;if(c){a.offsetWidth!==0?e=o(a,b,d):J.swap(a,bJ,function(){e=o(a,b,d)});if(e<=0){e=bM(a,b,b),e==="0px"&&bO&&(e=bO(a,b,b));if(e!=null)return e===""||e==="auto"?"0px":e}return e<0||e==null?(e=a.style[b],e===""||e==="auto"?"0px":e):typeof e=="string"?e:e+"px"}},set:function(a,b){if(!bF.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),J.support.opacity||(J.cssHooks.opacity={get:function(a,b){return bC.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle;c.zoom=1;var e=J.isNaN(b)?"":"alpha(opacity="+b*100+")",f=d&&d.filter||c.filter||"";c.filter=bB.test(f)?f.replace(bB,e):f+" "+e}}),J(function(){J.support.reliableMarginRight||(J.cssHooks.marginRight={get:function(a,b){var c;return J.swap(a,{display:"inline-block"},function(){b?c=bM(a,"margin-right","marginRight"):c=a.style.marginRight}),c}})}),G.defaultView&&G.defaultView.getComputedStyle&&(bN=function(a,c){var d,e,f;c=c.replace(bE,"-$1").toLowerCase();if(!(e=a.ownerDocument.defaultView))return b;if(f=e.getComputedStyle(a,null))d=f.getPropertyValue(c),d===""&&!J.contains(a.ownerDocument.documentElement,a)&&(d=J.style(a,c));return d}),G.documentElement.currentStyle&&(bO=function(a,b){var c,d=a.currentStyle&&a.currentStyle[b],e=a.runtimeStyle&&a.runtimeStyle[b],f=a.style;return!bF.test(d)&&bG.test(d)&&(c=f.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left=b==="fontSize"?"1em":d||0,d=f.pixelLeft+"px",f.left=c,e&&(a.runtimeStyle.left=e)),d===""?"auto":d}),bM=bN||bO,J.expr&&J.expr.filters&&(J.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!J.support.reliableHiddenOffsets&&(a.style.display||J.css(a,"display"))==="none"},J.expr.filters.visible=function(a){return!J.expr.filters.hidden(a)});var bQ=/%20/g,bR=/\[\]$/,bS=/\r?\n/g,bT=/#.*$/,bU=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bV=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bW=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/,bX=/^(?:GET|HEAD)$/,bY=/^\/\//,bZ=/\?/,b$=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,b_=/^(?:select|textarea)/i,ca=/\s+/,cb=/([?&])_=[^&]*/,cc=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,cd=J.fn.load,ce={},cf={},cg,ch;try{cg=I.href}catch(ci){cg=G.createElement("a"),cg.href="",cg=cg.href}ch=cc.exec(cg.toLowerCase())||[],J.fn.extend({load:function(a,c,d){if(typeof a!="string"&&cd)return cd.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var f=a.slice(e,a.length);a=a.slice(0,e)}var g="GET";c&&(J.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=J.param(c,J.ajaxSettings.traditional),g="POST"));var h=this;return J.ajax({url:a,type:g,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),h.html(f?J("<div>").append(c.replace(b$,"")).find(f):c)),d&&h.each(d,[c,b,a])}}),this},serialize:function(){return J.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?J.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||b_.test(this.nodeName)||bV.test(this.type))}).map(function(a,b){var c=J(this).val();return c==null?null:J.isArray(c)?J.map(c,function(a,c){return{name:b.name,value:a.replace(bS,"\r\n")}}):{name:b.name,value:c.replace(bS,"\r\n")}}).get()}}),J.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){J.fn[b]=function(a){return this.bind(b,a)}}),J.each(["get","post"],function(a,c){J[c]=function(a,d,e,f){return J.isFunction(d)&&(f=f||e,e=d,d=b),J.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),J.extend({getScript:function(a,c){return J.get(a,b,c,"script")},getJSON:function(a,b,c){return J.get(a,b,c,"json")},ajaxSetup:function(a,b){b?J.extend(!0,a,J.ajaxSettings,b):(b=a,a=J.extend(!0,J.ajaxSettings,b));for(var c in{context:1,url:1})c in b?a[c]=b[c]:c in J.ajaxSettings&&(a[c]=J.ajaxSettings[c]);return a},ajaxSettings:{url:cg,isLocal:bW.test(ch[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":J.parseJSON,"text xml":J.parseXML}},ajaxPrefilter:n(ce),ajaxTransport:n(cf),ajax:function(a,c){function d(a,c,d,m){if(v!==2){v=2,t&&clearTimeout(t),s=b,q=m||"",y.readyState=a?4:0;var o,p,r,u=d?k(e,y,d):b,x,z;if(a>=200&&a<300||a===304){if(e.ifModified){if(x=y.getResponseHeader("Last-Modified"))J.lastModified[n]=x;if(z=y.getResponseHeader("Etag"))J.etag[n]=z}if(a===304)c="notmodified",o=!0;else try{p=j(e,u),c="success",o=!0}catch(A){c="parsererror",r=A}}else{r=c;if(!c||a)c="error",a<0&&(a=0)}y.status=a,y.statusText=c,o?h.resolveWith(f,[p,c,y]):h.rejectWith(f,[y,c,r]),y.statusCode(l),l=b,w&&g.trigger("ajax"+(o?"Success":"Error"),[y,e,o?p:r]),i.resolveWith(f,[y,c]),w&&(g.trigger("ajaxComplete",[y,e]),--J.active||J.event.trigger("ajaxStop"))}}typeof a=="object"&&(c=a,a=b),c=c||{};var e=J.ajaxSetup({},c),f=e.context||e,g=f!==e&&(f.nodeType||f instanceof J)?J(f):J.event,h=J.Deferred(),i=J._Deferred(),l=e.statusCode||{},n,o={},p={},q,r,s,t,u,v=0,w,x,y={readyState:0,setRequestHeader:function(a,b){if(!v){var c=a.toLowerCase();a=p[c]=p[c]||a,o[a]=b}return this},getAllResponseHeaders:function(){return v===2?q:null},getResponseHeader:function(a){var c;if(v===2){if(!r){r={};while(c=bU.exec(q))r[c[1].toLowerCase()]=c[2]}c=r[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return v||(e.mimeType=a),this},abort:function(a){return a=a||"abort",s&&s.abort(a),d(0,a),this}};h.promise(y),y.success=y.done,y.error=y.fail,y.complete=i.done,y.statusCode=function(a){if(a){var b;if(v<2)for(b in a)l[b]=[l[b],a[b]];else b=a[y.status],y.then(b,b)}return this},e.url=((a||e.url)+"").replace(bT,"").replace(bY,ch[1]+"//"),e.dataTypes=J.trim(e.dataType||"*").toLowerCase().split(ca),e.crossDomain==null&&(u=cc.exec(e.url.toLowerCase()),e.crossDomain=!(!u||u[1]==ch[1]&&u[2]==ch[2]&&(u[3]||(u[1]==="http:"?80:443))==(ch[3]||(ch[1]==="http:"?80:443)))),e.data&&e.processData&&typeof e.data!="string"&&(e.data=J.param(e.data,e.traditional)),m(ce,e,c,y);if(v===2)return!1;w=e.global,e.type=e.type.toUpperCase(),e.hasContent=!bX.test(e.type),w&&J.active++===0&&J.event.trigger("ajaxStart");if(!e.hasContent){e.data&&(e.url+=(bZ.test(e.url)?"&":"?")+e.data),n=e.url;if(e.cache===!1){var z=J.now(),A=e.url.replace(cb,"$1_="+z);e.url=A+(A===e.url?(bZ.test(e.url)?"&":"?")+"_="+z:"")}}(e.data&&e.hasContent&&e.contentType!==!1||c.contentType)&&y.setRequestHeader("Content-Type",e.contentType),e.ifModified&&(n=n||e.url,J.lastModified[n]&&y.setRequestHeader("If-Modified-Since",J.lastModified[n]),J.etag[n]&&y.setRequestHeader("If-None-Match",J.etag[n])),y.setRequestHeader("Accept",e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+(e.dataTypes[0]!=="*"?", */*; q=0.01":""):e.accepts["*"]);for(x in e.headers)y.setRequestHeader(x,e.headers[x]);if(!e.beforeSend||e.beforeSend.call(f,y,e)!==!1&&v!==2){for(x in{success:1,error:1,complete:1})y[x](e[x]);s=m(cf,e,c,y);if(!s)d(-1,"No Transport");else{y.readyState=1,w&&g.trigger("ajaxSend",[y,e]),e.async&&e.timeout>0&&(t=setTimeout(function(){y.abort("timeout")},e.timeout));try{v=1,s.send(o,d)}catch(B){status<2?d(-1,B):J.error(B)}}return y}return y.abort(),!1},param:function(a,c){var d=[],e=function(a,b){b=J.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=J.ajaxSettings.traditional);if(J.isArray(a)||a.jquery&&!J.isPlainObject(a))J.each(a,function(){e(this.name,this.value)});else for(var f in a)l(f,a[f],c,e);return d.join("&").replace(bQ,"+")}}),J.extend({active:0,lastModified:{},etag:{}});var cj=J.now(),ck=/(\=)\?(&|$)|\?\?/i;J.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return J.expando+"_"+cj++}}),J.ajaxPrefilter("json jsonp",function(b,c,d){var e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(ck.test(b.url)||e&&ck.test(b.data))){var f,g=b.jsonpCallback=J.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h=a[g],i=b.url,j=b.data,k="$1"+g+"$2";return b.jsonp!==!1&&(i=i.replace(ck,k),b.url===i&&(e&&(j=j.replace(ck,k)),b.data===j&&(i+=(/\?/.test(i)?"&":"?")+b.jsonp+"="+g))),b.url=i,b.data=j,a[g]=function(a){f=[a]},d.always(function(){a[g]=h,f&&J.isFunction(h)&&a[g](f[0])}),b.converters["script json"]=function(){return f||J.error(g+" was not called"),f[0]},b.dataTypes[0]="json","script"}}),J.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return J.globalEval(a),a}}}),J.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),J.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=G.head||G.getElementsByTagName("head")[0]||G.documentElement;return{send:function(e,f){c=G.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){if(e||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||f(200,"success")},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var cl=a.ActiveXObject?function(){for(var a in cn)cn[a](0,1)}:!1,cm=0,cn;J.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&i()||h()}:i,function(a){J.extend(J.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(J.ajaxSettings.xhr()),J.support.ajax&&J.ajaxTransport(function(c){if(!c.crossDomain||J.support.cors){var d;return{send:function(e,f){var g=c.xhr(),h,i;c.username?g.open(c.type,c.url,c.async,c.username,c.password):g.open(c.type,c.url,c.async);if(c.xhrFields)for(i in c.xhrFields)g[i]=c.xhrFields[i];c.mimeType&&g.overrideMimeType&&g.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(i in e)g.setRequestHeader(i,e[i])}catch(j){}g.send(c.hasContent&&c.data||null),d=function(a,e){var i,j,k,l,m;try{if(d&&(e||g.readyState===4)){d=b,h&&(g.onreadystatechange=J.noop,cl&&delete cn[h]);if(e)g.readyState!==4&&g.abort();else{i=g.status,k=g.getAllResponseHeaders(),l={},m=g.responseXML,m&&m.documentElement&&(l.xml=m),l.text=g.responseText;try{j=g.statusText}catch(n){j=""}!i&&c.isLocal&&!c.crossDomain?i=l.text?200:404:i===1223&&(i=204)}}}catch(o){e||f(-1,o)}l&&f(i,j,l,k)},!c.async||g.readyState===4?d():(h=++cm,cl&&(cn||(cn={},J(a).unload(cl)),cn[h]=d),g.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var co={},cp,cq,cr=/^(?:toggle|show|hide)$/,cs=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,ct,cu=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cv,cw=a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame;J.fn.extend({show:function(a,b,c){var f,g;if(a||a===0)return this.animate(e("show",3),a,b,c);for(var h=0,i=this.length;h<i;h++)f=this[h],f.style&&(g=f.style.display,!J._data(f,"olddisplay")&&g==="none"&&(g=f.style.display=""),g===""&&J.css(f,"display")==="none"&&J._data(f,"olddisplay",d(f.nodeName)));for(h=0;h<i;h++){f=this[h];if(f.style){g=f.style.display;if(g===""||g==="none")f.style.display=J._data(f,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(e("hide",3),a,b,c);for(var d=0,f=this.length;d<f;d++)if(this[d].style){var g=J.css(this[d],"display");g!=="none"&&!J._data(this[d],"olddisplay")&&J._data(this[d],"olddisplay",g)}for(d=0;d<f;d++)this[d].style&&(this[d].style.display="none");return this},_toggle:J.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";return J.isFunction(a)&&J.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:J(this).is(":hidden");J(this)[b?"show":"hide"]()}):this.animate(e("toggle",3),a,b,c),this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,e){var f=J.speed(b,c,e);return J.isEmptyObject(a)?this.each(f.complete,[!1]):(a=J.extend({},a),this[f.queue===!1?"each":"queue"](function(){f.queue===!1&&J._mark(this);var b=J.extend({},f),c=this.nodeType===1,e=c&&J(this).is(":hidden"),g,h,i,j,k,l,m,n,o;b.animatedProperties={};for(i in a){g=J.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]),h=a[g],J.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&e||h==="show"&&!e)return b.complete.call(this);c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],J.css(this,"display")==="inline"&&J.css(this,"float")==="none"&&(J.support.inlineBlockNeedsLayout?(j=d(this.nodeName),j==="inline"?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1)):this.style.display="inline-block"))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)k=new J.fx(this,b,i),h=a[i],cr.test(h)?k[h==="toggle"?e?"show":"hide":h]():(l=cs.exec(h),m=k.cur(),l?(n=parseFloat(l[2]),o=l[3]||(J.cssNumber[i]?"":"px"),o!=="px"&&(J.style(this,i,(n||1)+o),m=(n||1)/k.cur()*m,J.style(this,i,m+o)),l[1]&&(n=(l[1]==="-="?-1:1)*n+m),k.custom(m,n,o)):k.custom(m,h,""));return!0}))},stop:function(a,b){return a&&this.queue([]),this.each(function(){var a=J.timers,c=a.length;b||J._unmark(!0,this);while(c--)a[c].elem===this&&(b&&a[c](!0),a.splice(c,1))}),b||this.dequeue(),this}}),J.each({slideDown:e("show",1),slideUp:e("hide",1),slideToggle:e("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){J.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),J.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?J.extend({},a):{complete:c||!c&&b||J.isFunction(a)&&a,duration:a,easing:c&&b||b&&!J.isFunction(b)&&b};return d.duration=J.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in J.fx.speeds?J.fx.speeds[d.duration]:J.fx.speeds._default,d.old=d.complete,d.complete=function(a){d.queue!==!1?J.dequeue(this):a!==!1&&J._unmark(this),J.isFunction(d.old)&&d.old.call(this)},d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),J.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(J.fx.step[this.prop]||J.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]==null||!!this.elem.style&&this.elem.style[this.prop]!=null){var a,b=J.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a}return this.elem[this.prop]},custom:function(a,b,c){function d(a){return e.step(a)}var e=this,f=J.fx,h;this.startTime=cv||g(),this.start=a,this.end=b,this.unit=c||this.unit||(J.cssNumber[this.prop]?"":"px"),this.now=this.start,this.pos=this.state=0,d.elem=this.elem,d()&&J.timers.push(d)&&!ct&&(cw?(ct=1,h=function(){ct&&(cw(h),f.tick())},cw(h)):ct=setInterval(f.tick,f.interval))},show:function(){this.options.orig[this.prop]=J.style(this.elem,this.prop),this.options.show=!0,this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),J(this.elem).show()},hide:function(){this.options.orig[this.prop]=J.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b=cv||g(),c=!0,d=this.elem,e=this.options,f,h;if(a||b>=e.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),e.animatedProperties[this.prop]=!0;for(f in e.animatedProperties)e.animatedProperties[f]!==!0&&(c=!1);if(c){e.overflow!=null&&!J.support.shrinkWrapBlocks&&J.each(["","X","Y"],function(a,b){d.style["overflow"+b]=e.overflow[a]}),e.hide&&J(d).hide();if(e.hide||e.show)for(var i in e.animatedProperties)J.style(d,i,e.orig[i]);e.complete.call(d)}return!1}return e.duration==Infinity?this.now=b:(h=b-this.startTime,this.state=h/e.duration,this.pos=J.easing[e.animatedProperties[this.prop]](this.state,h,0,1,e.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},J.extend(J.fx,{tick:function(){for(var a=J.timers,b=0;b<a.length;++b)a[b]()||a.splice(b--,1);a.length||J.fx.stop()},interval:13,stop:function(){clearInterval(ct),ct=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){J.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit:a.elem[a.prop]=a.now}}}),J.expr&&J.expr.filters&&(J.expr.filters.animated=function(a){return J.grep(J.timers,function(b){return a===b.elem}).length});var cx=/^t(?:able|d|h)$/i,cy=/^(?:body|html)$/i;"getBoundingClientRect"in G.documentElement?J.fn.offset=function(a){var b=this[0],d;if(a)return this.each(function(b){J.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return J.offset.bodyOffset(b);try{d=b.getBoundingClientRect()}catch(e){}var f=b.ownerDocument,g=f.documentElement;if(!d||!J.contains(g,b))return d?{top:d.top,left:d.left}:{top:0,left:0};var h=f.body,i=c(f),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||J.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||J.support.boxModel&&g.scrollLeft||h.scrollLeft,n=d.top+l-j,o=d.left+m-k;return{top:n,left:o}}:J.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){J.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return J.offset.bodyOffset(b);J.offset.initialize();var c,d=b.offsetParent,e=b,f=b.ownerDocument,g=f.documentElement,h=f.body,i=f.defaultView,j=i?i.getComputedStyle(b,null):b.currentStyle,k=b.offsetTop,l=b.offsetLeft;while((b=b.parentNode)&&b!==h&&b!==g){if(J.offset.supportsFixedPosition&&j.position==="fixed")break;c=i?i.getComputedStyle(b,null):b.currentStyle,k-=b.scrollTop,l-=b.scrollLeft,b===d&&(k+=b.offsetTop,l+=b.offsetLeft,J.offset.doesNotAddBorder&&(!J.offset.doesAddBorderForTableAndCells||!cx.test(b.nodeName))&&(k+=parseFloat(c.borderTopWidth)||0,l+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),J.offset.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(k+=parseFloat(c.borderTopWidth)||0,l+=parseFloat(c.borderLeftWidth)||0),j=c}if(j.position==="relative"||j.position==="static")k+=h.offsetTop,l+=h.offsetLeft;return J.offset.supportsFixedPosition&&j.position==="fixed"&&(k+=Math.max(g.scrollTop,h.scrollTop),l+=Math.max(g.scrollLeft,h.scrollLeft)),{top:k,left:l}},J.offset={initialize:function(){var a=G.body,b=G.createElement("div"),c,d,e,f,g=parseFloat(J.css(a,"marginTop"))||0,h="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";J.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"}),b.innerHTML=h,a.insertBefore(b,a.firstChild),c=b.firstChild,d=c.firstChild,f=c.nextSibling.firstChild.firstChild,this.doesNotAddBorder=d.offsetTop!==5,this.doesAddBorderForTableAndCells=f.offsetTop===5,d.style.position="fixed",d.style.top="20px",this.supportsFixedPosition=d.offsetTop===20||d.offsetTop===15,d.style.position=d.style.top="",c.style.overflow="hidden",c.style.position="relative",this.subtractsBorderForOverflowNotVisible=d.offsetTop===-5,this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==g,a.removeChild(b),J.offset.initialize=J.noop},bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return J.offset.initialize(),J.offset.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(J.css(a,"marginTop"))||0,c+=parseFloat(J.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=J.css(a,"position");d==="static"&&(a.style.position="relative");var e=J(a),f=e.offset(),g=J.css(a,"top"),h=J.css(a,"left"),i=(d==="absolute"||d==="fixed")&&J.inArray("auto",[g,h])>-1,j={},k={},l,m;i?(k=e.position(),l=k.top,m=k.left):(l=parseFloat(g)||0,m=parseFloat(h)||0),J.isFunction(b)&&(b=b.call(a,c,f)),b.top!=null&&(j.top=b.top-f.top+l),b.left!=null&&(j.left=b.left-f.left+m),"using"in b?b.using.call(a,j):e.css(j)}},J.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cy.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(J.css(a,"marginTop"))||0,c.left-=parseFloat(J.css(a,"marginLeft"))||0,d.top+=parseFloat(J.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(J.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||G.body;while(a&&!cy.test(a.nodeName)&&J.css(a,"position")==="static")a=a.offsetParent;return a})}}),J.each(["Left","Top"],function(a,d){var e="scroll"+d;J.fn[e]=function(d){var f,g;return d===b?(f=this[0],f?(g=c(f),g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:J.support.boxModel&&g.document.documentElement[e]||g.document.body[e]:f[e]):null):this.each(function(){g=c(this),g?g.scrollTo(a?J(g).scrollLeft():d,a?d:J(g).scrollTop()):this[e]=d})}}),J.each(["Height","Width"],function(a,c){var d=c.toLowerCase();J.fn["inner"+c]=function(){return this[0]?parseFloat(J.css(this[0],d,"padding")):null},J.fn["outer"+c]=function(a){return this[0]?parseFloat(J.css(this[0],d,a?"margin":"border")):null},J.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(J.isFunction(a))return this.each(function(b){var c=J(this);c[d](a.call(this,b,c[d]()))});if(J.isWindow(e)){var f=e.document.documentElement["client"+c];return e.document.compatMode==="CSS1Compat"&&f||e.document.body["client"+c]||f}if(e.nodeType===9)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var g=J.css(e,d),h=parseFloat(g);return J.isNaN(h)?g:h}return this.css(d,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=J})(window),function(a,b){function d(a,b){c[b]=c[b]?c[b]+1:1}function e(){return this.constructor(this)}function f(){return!1}function g(){return!0}function p(a,b,c){var d=[b,o++,c];if(typeof a=="object")for(var e=0;e<a.length;e++)n[a[e]]=d;else n[a]=d}function q(a){if(!n[a])throw"Precedence of "+a+" not known!";return n[a][1]}function r(a){var b=n[a];return b[0]==0&&b[2]==1}function s(a){var b=["+","-","Â±"];return b.indexOf(a)!=-1?"@"+a:!1}function t(a,b,c,d){var e="Side must be specified for noncommutative operations!";b=b.clone(),c=c.clone();switch(a){case"+":return[c,b].setType("-");case"-":if(d===l)return[b,c].setType("-");if(d===m)return[c,b].setType("+");throw e;case"/":if(d===l)return c===0?!1:[b,c].setType("/");if(d===m)return[c,b].setType("*");throw e;case"*":if(b===0)return!1;return[c,b].setType("/");case"^":if(d===l)return[["log",c].setType("â"),["log",b].setType("â")].setType("/");if(d===m)return b===0?!1:[c,[1,b].setType("/")].setType("^");throw e;default:return}}function u(a){var c={"+":0,"*":1,"^":0,"/":1,"-":0,"&&":!0,"â¨":!1,"%":Infinity,"^":1,"matrix multiplication":e};return c[a]!==b?c[a]:b}function v(a){return["*","+","="].indexOf(a)!=-1}function w(a,b){var c={"*":["+","-",","],"/":["+","-"],"^":["*"],"cross-product":"+","matrix-multiplication":"+","set-union":"intersect","â¨":"&&",conjugtion:["disjunction","exclusive disjunction"],max:"min",gcd:"lcm",D:["+","-",","],"+":["max","min",","]};if(c[a])if(c[a]===b||c[a].indexOf&&c[a].indexOf(b)!=-1)return!0;return!1}function x(a){var b=["*","+","=","â"];return b.indexOf(a)!=-1?!0:!1}function C(a,b){return A(a)}function F(a){if(a===0)return-0.5;if(a==1)return Infinity;if(a==2)return pi*pi/6;if(a==4)return pi*pi*pi*pi/90;if(a<1)return Infinity;var b=4.4*pow(a,-5.1);for(var c=1;c<10;c++)b+=pow(c,-a);return b}function G(a){var b,c,d,e,f,g=[57.15623566586292,-59.59796035547549,14.136097974741746,-0.4919138160976202,3399464998481189e-20,4652362892704858e-20,-0.00009837447530487956,.0001580887032249125,-0.00021026444172410488,.00021743961811521265,-0.0001643181065367639,8441822398385275e-20,-0.000026190838401581408,36899182659531625e-22];if(a>0){e=c=a,d=c+5.2421875,d=(c+.5)*E(d)-d,f=.9999999999999971;for(b=0;b<14;b++)f+=g[b]/++e;return d+E(2.5066282746310007*f/c)}throw"bad arg in gammln"}function H(a){return a==0?Infinity:a<0?-pi/(a*sin(pi*a)*H(-a)):D(G(a))}function I(a){if(a===0||a==1)return 1;if(a>0&&a==~~a&&a<15){var b=1;for(var c=1;c<=a;c++)b*=c;return~~b}if(a!=~~a||a<0)return H(a+1)}function J(a){var b=[];this.discrete=b,typeof a=="object"&&a.forEach&&a.forEach(function(a){b.indexOf(a)==-1&&b.push(a)})}function L(){return!1}function P(a){var b={"*":"\\cdot ","â¨":"\\vee ","&&":"\\wedge ","Â±":"\\pm ","â":"\\circ "};return b[a]||a}var c={};"use strict",_M=a.M,Array.prototype.toString=null,Array.prototype.setType=function(a){return this.type=a,this},Array.prototype.clone=function(){return Array.prototype.slice.apply(this).setType(this.type)},Number.prototype.eval=Number.prototype.simplify=String.prototype.eval=String.prototype.simplify=Boolean.prototype.simplify=Boolean.prototype.toLatex=Number.prototype.clone=Boolean.prototype.clone=String.prototype.clone=e,Number.prototype.requiresParentheses=String.prototype.requiresParentheses=Boolean.prototype.requiresParentheses=f,Number.prototype.impliedBy=String.prototype.impliedBy=Boolean.prototype.impliedBy=g;var h={},i="javascript+math",j,k,l=j=0,m=k=1;h[i]=[[";"],[","],[["=","+=","-=","*=","/=","%=","&=","^=","|="],m],[["?",":"],m,2],[["â¨"]],[["&&"]],[["|"]],[["??????"]],[["&"]],[["==","â ","!==","==="]],[["<","<=",">",">="],l],[[">>","<<"]],["Â±",m,2],[["+","-"]],[["â«","â"],m,1],[["*","%"]],[["@+","@-","@Â±"],m,1],[["Â¬"],l,1],["â",m,2],[["/"]],[["^"]],["!",l,1],[["~"],m,1],[["++","++",".","->"],l,1],[["::"]],[["_"],l,2],["var",m,1],["break",m,0],["throw",m,1],["'"
,l,1],["â",m,1],["#",m,1]];var n={},o=0;h[i||"jsMath"].forEach(function(a){p(a[0],a[1]||l,a[2]===b?2:a[2])}),a.commutative=v,Array.prototype.requiresParentheses=function(a){return q(a)>q(this.type)||a=="^"&&this.type==="^"},Number.prototype.requiresParentheses=function(a){return a==="^"&&Number(this)<0?!0:!1},String.prototype.requiresParentheses=Boolean.prototype.requiresParentheses=f;var y={latexParse:"Unable to parse LaTeX string",parenMismatch:"There are mismatched parentheses"},z={number:1,operator:2,paren:3,variable:4,"function":5},A=function(a){function i(a){if(n[a])return[a];for(var b=a.length-1;b>0;b--){var c=a.substring(0,b);if(n[c])return[c].concat(i(a.substring(b)))}throw"Expression '"+a+"' did not contain any operator prefix codes."}d(1,"parse - build");var b=["none","num","op","paren","var"],c=":>-.+~!^%/*<=&|?,;Â±â'â«ââ«âÂ¬_$",e="1234567890.",f='([{}"])',g=c+f+e,h=[0,function(a){return!isNaN(a)},function(a){return n[a]?!0:!1},function(a){return a.length===1&&f.indexOf(a)!=-1},function(a){return a.length===1||a[0]==="\\"?g.indexOf(a[a.length-1])==-1:!1}];return function(a){function m(a){d(1,"next_rpn");if(a.t===z.number||a.t===z.variable)l.push(a.v);else{var b=n[a.v][2];if(l.length<b)throw new SyntaxError("The "+a.v+" operator requires exactly "+b+" operands, whereas only "+l.length+" "+(l.length===1?"was":"were")+" supplied.");var c=l.splice(-b);c.type=a.v,l.push(c)}}function o(a){a.t===z.variable&&(n[a.v]?a.t=z.operator:a.v==="false"?a.v=!1:a.v==="true"?a.v=!0:a.v==="Infinity"&&(a.v=Infinity));if(a.t==z.number||a.t==z.variable)a.t==z.number&&(a.v=Number(a.v)),m(a);a.t===z.func&&k.push(a);if(a.t===z.comma)while(k[k.length-1].v!="("){if(!k.length)throw"either the separator was misplaced or parentheses were mismatched.";m(k.pop())}if(a.t===z.operator){var b=a,c=q(b.v),d=n[b.v][0],e;while(k.length&&(e=k[k.length-1]).t===z.operator&&(d==j&&c<=q(e.v)||d!=j&&c<q(e.v)))m(k.pop());k.push(b)}a.v=="("&&k.push(a);if(a.v==")"){while(k[k.length-1].v!="("){if(!k.length)throw new SyntaxError(y.parenMismatch);m(k.pop())}if(k.pop().v!="(")throw"Pop the left parenthesis from the stack: Not found!";k.length&&k[k.length-1].t===z.func&&m(k.pop)}}function t(a){var b=[],c=a.v;a.t===z.variable&&(c=c.replace(/\\/g,"")),a.t===z.paren&&(c=c.replace(/[ \n\t]+/g,""));var d=c.split(a.t===z.paren?"":/[ \n\t]+/);a.t===z.operator?d.forEach(function(a){a.length&&(b=b.concat(i(a)))}):b=d,b.forEach(function(b){b.length&&(a.t!=z.paren?(!p&&a.t!=z.operator&&o({v:"â",t:z.operator}),a.t==z.operator&&!r(b)?(p&&p!=")"&&s(b)&&(b=s(b)),p=!0):p=!1):b!="("||p!=!1&&p!=")"?b=="("?p=b:b==")"&&(p=b):(o({v:"â",t:z.operator}),p=b),o({v:b,t:a.t}))})}d(1,"parse");var b=0;a=a.trim();var c=0,e=a.length,f=a[0];b=4;for(var g=1;g<4;g++)if(h[g](f)){b=g;break}var k=[],l=[],p=!0;while(c<e){c++;var u;if(c>=e){t({v:f,t:b}),f="";break}if((u=a[c])===" "||u==="\t"||u==="\n")f+=u;else if(h[b](f+u))f+=u;else{t({v:f,t:b});if(b===z.operator||b===z.paren){b=4;for(var g=1;g<4;g++)if(h[g](u)){b=g;break}}else h[z.operator](u)?b=z.operator:h[z.paren](u)?b=z.paren:(t({v:"â",t:z.operator}),b=z.variable);f=u}}while(k.length){var v;if((v=k.pop()).t===z.paren)throw"there are mismatched parentheses.";m(v)}return l.length!==1?(console.warn("Stack not the right size! ",l),l):l[0]}}(i),B=function(a,b){return C(a,b)};B.Context=function(){},Array.prototype.valid=function(){return this.type==="/"&&this[1]===0?!1:!0},Array.prototype.eval=function(){return this.simplify()},Array.prototype.Function=function(a){return a===b?new Function("return "+(this+"")):new Function(a,"return "+(this+""))},B.toString=function(){return"function M() {\n    [awesome code]\n}"},B.toString.toString=function(){return"function toString() {\n    [native code]\n}"},B.toString.toString.toString=B.toString.toString,a.M=B,B.Context.prototype=Object.create(Math),B.Context.prototype.D=function(a,b){return b=b||"x",a.differentiate(b,1)},B.Context.prototype.D.symbolic=!0,B.Context.prototype.reset=function(){for(var a in this)this.hasOwnProperty(a)&&delete this[a];return this};var D=Math.exp,E=Math.log;B.Context.prototype.factorial=function(a){return I(a)},B.Context.prototype.Gamma=function(a){return H(a)},B.noConflict=function(){return a.M=_M,B},B.Context.prototype.Infinity=Infinity,B.Context.prototype.NaN=NaN,B.global=new B.Context,B.__proto__=B.global,J.prototype.union=function(a){var b=this.discrete;a.discrete.forEach(function(a){b.indexOf(a)==-1&&b.push(a)})},J.prototype.forEach=function(a){this.discrete.forEach(a)};var K=new J;String.prototype.root=function(a){return String(this)===a?new J([0]):K},Boolean.prototype.root=Number.prototype.root=function(){return K},Array.prototype.root=function(a){a===b&&(console.warn("Variable not specified (Assume x)"),a="x");var c=b;if(this.type==="*"){var d=new J;return this.forEach(function(b){d.union(b.root(a))}),d}if(!1){var d=[];this.forEach(function(b){d.intersect(b.root(a))})}var e=this,f=0,g=0;if(e.vars("x").length===1){while(e!==a){var h=e.type;if(e[0].vars("x").length){var i=l;f=t(h,e[1-i],f,i);if(f===b)throw"Could not solve";e=e[i]}else{if(!e[1].vars("x").length)throw"The "+a+" variable is missing now!!!!";var i=m;f=t(h,e[1-i],f,i);if(f===b)throw"Could not solve";e=e[i]}if(g++>40)throw"infinite loop!"}return new J([f])}throw"I don't know how to solve those"},Array.prototype.inverse=function(a,b){return this.apply("-",b).root(a)},Array.prototype.solve=function(a){function b(){return this[0].apply("-",this[1])}if(this.type===";")alert("solve set");else if(this.type==="=")return b.apply(this).inverse(0)},B.Context.prototype.learn=function(a){a===M&&alert("Base fact already known.");var b=" vars: x,y,z",c=new J(a.vars()),d=this;return c.forEach(function(a){if(d[a])throw"Already defined! (TODO: intersect it)";d[a]=!0}),b},B.Context.prototype.delete=function(a){typeof a!="object"&&delete this[a]},Array.prototype.vars=function(a){var b=[];return this.map(function(c){b.push.apply(b,c.vars(a))}),b},String.prototype.vars=function(a){var c=String(this);return a===b||a===c?[c]:[]},Number.prototype.vars=Boolean.prototype.vars=function(){return[]};var M=[1,1].setType("=");Array.prototype.impliedBy=function(a){if(this===M)return!0;if(this.type===";"){for(var b=this.length-1;b>=0;b--)if(!this[b].impliedBy(a))return!1;return!0}if(this.type==="=")return!1;for(var b=this.length-1;b>=0;b--)if(!this[b].impliedBy(a))return!1;return!0},B.assumptions=!0,B.getAssumptions=function(){var a=B.assumptions;return B.assumptions=!0,a},B.assume=function(a){B.assumptions=B.assumptions.apply("&&",a)},B.latex={stringify:function(){},parse:function(a){d(1,"Latex.parse");var c,e=a.length;while((c=a.indexOf("\\begin"))!=-1){var f=a.indexOf("}",c+7),g=a.substring(c+7,f),h="\\end{"+g+"}",i=a.indexOf(h,f),j=a.substring(f+1,i);switch(g){case"matrix":j=j.replace(/\\\:/g,",").replace(/\\\\/g,";"),a=a.split(""),a[c]="[",a.splice(i,h.length-1),a[i]="]",a.splice(f+1,i-f-1,j),a.splice(c+1,f+1-c-1),a=a.join("");break;default:throw new SyntaxError("Latex \\begin{"+g+"} block not understood.")}}while((c=a.indexOf("\\text"))!=-1){var f=a.indexOf("}",c+6),k=a.substring(c+6,f);a=a.split(""),a.splice(c,f-c+1,"\\"+k),a=a.join("")}while((c=a.indexOf("\\frac"))!=-1){var f,l=!1,m=0;for(f=c+5;f<e;f++)if(a[f]=="{")m++;else if(a[f]=="}"){m--;if(!m){l=!0;break}}if(!l)throw new SyntaxError(y.latexParse);l=!1;if(a[f+1]!="{")throw new SyntaxError("Unexpected '"+a[f+1]+"' between \\frac operands");var n=f+1,o;for(o=n;o<e;o++)if(a[o]=="{")m++;else if(a[o]=="}"){m--;if(!m){l=!0;break}}if(!l)throw new SyntaxError(y.latexParse);a=a.split(""),a[c+5]="((",a[f]=")",a[n]="(",a[o]="))",a.splice(n,0,"/"),a.splice(c,5),a=a.join("")}var p={cdot:"*",vee:"â¨",wedge:"&&",neg:"Â¬",left:"",right:"",pm:"Â±",circ:"â",sqrt:"â",div:"/",gt:">","left|":"\\abs(","right|":")",times:"*",":":"","left(":"(","right)":")","left[":"[","right]":"]",ge:">=",lt:"<",le:"<=",infty:"â",sim:"~",frac:"",backslash:"\\",alpha:"Î±",beta:"Î²",gamma:"Î³",delta:"Î´",zeta:"Î¶",eta:"Î·",theta:"Î¸",iota:"Î¹",kappa:"Îº",mu:"Î¼",nu:"Î½",xi:"Î¾",omicron:"Î¿",rho:"Ï",sigma:"Ï",tau:"Ï",upsilon:"Ï",chi:"Ï",psi:"Ï",omega:"Ï",phi:"Ï",phiv:"Ï",varphi:"Ï",epsilon:"Ïµ",epsiv:"Îµ",varepsilon:"Îµ",sigmaf:"Ï",sigmav:"Ï",gammad:"Ï",Gammad:"Ï",digamma:"Ï",kappav:"Ï°",varkappa:"Ï°",piv:"Ï",varpi:"Ï",rhov:"Ï±",varrho:"Ï±",thetav:"Ï",vartheta:"Ï",pi:"Ï",lambda:"Î»",Gamma:"Î",Delta:"Î",Theta:"Î",Lambda:"Î",Xi:"Î",Pi:"Î ",Sigma:"Î£",Upsilon:"Î¥",Phi:"Î¦",Psi:"Î¨",Omega:"Î©",perp:"â¥",",":" ",nabla:"â",forall:"â",sum:"â",summation:"â",prod:"â",product:"â",coprod:"â",coproduct:"â","int":"â«",integral:"â«"};return a=a.replace(/\\([a-z]+)/g,function(a,c){var d=p[c];return" "+(d!=b?d:"\\"+c)}),a=a.replace(/[\[\{]/g,"("),a=a.replace(/[\]\}]/g,")"),a}},Array.prototype.differentiate=function(a,b){if(b<=-1)return this.integrate(a,-b);if(b==0)return this;if(b>1)return this.differentiate(a,b-1).differentiate(a,b);if(w("D",this.type))return this.map(function(c){return c.differentiate(a,b)}).setType(this.type).simplify();switch(this.type){case"*":var c=this[0].differentiate(a,b),d=this[1].differentiate(a,b);return this[0].apply("*",d).apply("+",this[1].apply("*",c));case"/":var c=this[0].differentiate(a,b),d=this[1].differentiate(a,b);return this[1].apply("*",c).apply("-",this[0].apply("*",d)).apply("/",this[1].apply("^",2));case"^":var c=this[0].differentiate(a,b),d=this[1].differentiate(a,b);return this[0].apply("^",this[1].apply("-",1)).apply("*",this[1].apply("*",c).apply("+",this[0].apply("*","log".apply("â",this[0])).apply("*",d)));case"!":return this[0].differentiate(a,b).apply("*","Gamma".apply("â",this[0].apply("+",1))).apply("*","digamma".apply("â",this[0].apply("+",1)));case"â":return this[0].differentiate(a,b).apply("/",this[0].apply("â").apply("*",2));case"@-":case"@+":case"@Â±":return this[0].differentiate(a,b).apply(this.type);case"â":return this[1].differentiate(a,b).apply("*",[this[0]].setType("#").differentiate().apply("â",this[1]));default:return["D",this].setType("â")}},String.prototype.differentiate=function(a,b){return b>-1?b==0?String(this):String(this)==a?b==1?1:0:0:this.integrate(a,-b)},Number.prototype.differentiate=function(a,c){return c>-1?c==0?Number(this):this==Infinity||this==-Infinity?b:0:this.integrate(a,-c)},Array.prototype.simplify=function(){d("?","simplify");if(this.length===1){var a=this[0].simplify();return a.apply(this.type)}if(this.length===2){var a=this[0].simplify(),b=this[1].simplify();return a.apply(this.type,b)}},Array.prototype.sub=function(a,b){var c=[].setType(this.type);if(this.type==="#"&&this[1]!=a)return this.clone();var d,e=this.length;for(d=0;d<e;d++)c.push(this[d].sub(a,b));return c},String.prototype.sub=function(a,b){var c=String(this);return c===a?b:c},Number.prototype.sub=e,Array.prototype.apply=function(a,c,d){if(a==="â"&&this.type==="_")return B.global[this[0]](c,this[1]);if(a==="â"&&this.type==="#")return this[0].sub("x",c);if(a===","&&this.type===",")return this.concat([c]).setType(this.type);if(a===";"&&this.type===";")return this.concat([c]).setType(this.type);if(a===";"&&this.type===",")return B.assume([c.type==","?1:0,1].setType("=")),[this,c].setType(";");if(c!==b&&u(a)===c)return this;if(c!==b&&t(a,c,NaN,m)===!1)return c;if(this.type===","&&c.type===","){if(a!=="*"&&a!=="+"&&a!=="-")throw"Vector-vector operator: "+a+"not understood";for(var e=c.length-1;e>=0;e--)this[e]=this[e].apply(a,c[e]);if(a==="*"){var f=0;for(var e=this.length-1;e>=0;e--)f=f.apply("+",this[e]);return f}return this}if(w(a,this.type)){for(var e=this.length-1;e>=0;e--)this[e]=this[e].apply(a,c);return this}if(c!==b&&typeof c=="number"||typeof c=="boolean")if(this.type==a&&x(a)){var g=!1;for(var e=this.length-1;e>=0;e--)if(typeof this[e]=="number"||typeof this[e]=="boolean"){this[e]=this[e].apply(a,c),g=!0;break}if(g)return this}return!d&&this.type==="*"&&a==="/"&&c.type==="/"?c.reverse().apply("*",this):c===b?[this].setType(a):[this,c].setType(a)},String.prototype.apply=function(a,b,c){var d=String(this);if(n[a][2]==1)return[d].setType(a);var e=u(a);if(e===b)return d;if(e===!0&&typeof b=="number"&&b)return d;if(e===!1&&typeof b=="number"&&!b)return d;if(t(a,b,NaN,m)===!1)return b;if(!c&&typeof b!="string"&&v(a))return b.clone().apply(a,d,!0);if(a==="â"&&B.global[d]){if(B.global[d].symbolic)return B.global[d](b);if(typeof b=="number"||typeof b=="boolean")return B.global[d](b)}return[d,b].setType(a)},Number.prototype.apply=function(c,d,e){if(c==="â")return e?[d,Number(this)].setType("*"):d.clone().apply("*",Number(this),!0);var f=Number(this);if(d){var g=u(c);if(g===d)return f;if(g===!0&&this)return d;if(g===!1&&!this)return d}if(d===b||typeof d=="number"||typeof d=="boolean")switch(c){case"+":return f+d;case"@+":return f;case"@-":return-f;case"*":return f*d;case"/":if(d===0)throw"Division by zero is not defined.";return f/d;case"-":return f-d;case"â":if(f<0)return Math.pow(-f,.5).apply("*","i");return Math.pow(f,.5);case"^":return Math.pow(f,d);case"===":return f===d;case"==":return f==d;case"â ":return f!=d;case">":return f>d;case"<":return f<d;case">=":return f>=d;case"<=":return f<=d;case"&":return f&d;case"^":return f^d;case"â¨":return f||d;case"|":return f|d;case"%":return f%d;case"&&":return f&&d;case"â":return f*d;case"Â¬":return!f;case"~":return~f;case"Â±":return[f+d,f-d].setType(",");case"@Â±":return[f,-f].setType(",");case";":case",":if(d.type===c)return d.push(f);return[f,d].setType(c);case"!":return B.Context.prototype.factorial(f);case"=":if(f==d)return M;throw a.a=f,a.b=d,new Error("The statement is always false: "+f+" â  "+d);default:if(d===b)return[f].setType(c);return[f,d].setType(c)}return v(c)?u(c)==Number(this)?d:e?[d,Number(this)].setType(c):d.clone().apply(c,Number(this),!0):f===0&&c=="/"?(B.assume([d,0].setType("â ")),0):[Number(this),d].setType(c)},Boolean.prototype.apply=Number.prototype.apply;var N="Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Phi|Psi|Omega|lLambda|lambda|delta|sigma|sum".split("|"),O="log|exp|asinh|acosh|atanh|sinh|sech|cosh|coth|tanh|sin|cos|tan|cot|sec|exp|log".split("|");Array.prototype.toLatex=function(a){if(this.length>=2){if(this.type==="/")return"\\frac{"+this[0].toLatex()+"}{"+this[1].toLatex()+"}";if(this.type==="^"||this.type==="_"){var b=this[0].toLatex();return this[0].requiresParentheses(this.type)&&(b="\\left("+b+"\\right)"),b+this.type+"{"+this[1].toLatex()+"}"}if(this.type==="â"){var b=this[0].toLatex();return O.indexOf(b)!==-1?b="\\"+b:this[0].requiresParentheses(this.type)&&(b="\\left("+b+"\\right)"),b+"\\left("+this[1].toLatex()+"\\right)"}if(this.type===","&&a){var c=this;return this.map(function(a){var b=a.toLatex();return a.requiresParentheses(c.type)&&(b="\\left("+b+"\\right)"),b}).join(P("\\:"))}if(this.type===";"&&!1){var c=this;return"\\begin{matrix}"+this.map(function(a){var b=a.toLatex(!0);return a.requiresParentheses(c.type)&&(b="\\left("+b+"\\right)"),b}).join("\\\\")+"\\end{matrix}"}var c=this;return this.map(function(a){var b=a.toLatex();return a.requiresParentheses(c.type)&&(b="\\left("+b+"\\right)"),b}).join(P(this.type))}if(this.length==1){var b=this[0].toLatex();return this[0].requiresParentheses(this.type)&&(b="\\left("+b+"\\right)"),this.type[0]=="@"?this.type.substring(1)+b:this.type==="â"?"\\sqrt{"+this[0].toLatex()+"}":r(this.type)?b+this.type:this.type+b}},Number.prototype.toLatex=function(){return Number(this)===Infinity?"\\infty":(this+"").replace(/e([\+\-])([\d\.]+)/,"\\cdot 10^{$2}")},String.prototype.toLatex=function(){var a=String(this);return a.length>1||N.indexOf(a)!=-1?"\\"+a:a};var Q={"text/javascript":function(a,b,c){switch(a){case"+":case"-":case"/":case"*":case"?":case":":case",":case"&&":case"==":case"<":case">":case"<=":case">=":case"!==":case"====":case">>":case"<<":case"&":case"%":return{s:b.s+a+c.s,t:z.number};case"_":if(b.t!==z.variable||c.t!==z.variable&&c.t!=z.number)throw"Operator '_' does not exist in javaScript for those types.";return{s:b.s+a+c.s,t:z.variable};case"~":return a+b.s;case"@-":case"@+":return{s:a.substring(1)+b.s,t:z.number};case"^":return{s:"Math.pow("+b.s+","+c.s+")",t:z.number};case"â":return b.t===z.function?{s:b.s+"("+c.s+")",t:z.number}:{s:b.s+"("+c.s+")",t:z.number};case"#":return{s:"function(x){return "+b.s+"}",t:z.function};case"â":return{s:"Math.sqrt("+b.s+")",t:z.number};case"!":return{s:"factorial("+b.s+")",t:z.number};default:throw"Could not translate operator: '"+a+"' into javscript!"}}};Array.prototype.toTypedExpression=function(a,b){return Q[a].apply(this,[this.type].concat(this.map(function(b){return b.toTypedExpression(a)})))},Number.prototype.toTypedExpression=function(){return Number(this)===Infinity?"Infinity":{s:this+"",t:z.number}},String.prototype.toTypedExpression=function(){var a=String(this),b=z.variable;return!B.global[a],Math[a]&&(a="Math."+a,typeof Math[a]=="function"&&(b=z.function)),{s:a,t:b}},Object.prototype.toExpression=function(a){return this.toTypedExpression(a).s},Number.prototype.toStrings=function(){return(this+"").replace(/e([\+\-])([\d\.]+)/,"\\cdot 10^{$2}")};var R=Array.prototype.toString;Array.prototype.toStrings=function(){if(!this.type)return R.apply(this,arguments);if(this.length>=2){var a=this;return this.map(function(b){var c=b.toStrings();return b.requiresParentheses(a.type)&&(c="("+c+")"),c}).join(this.type)}if(this.length==1)return this[0].toStrings()+this.type;if(!1)return this[0].toStrings()+this.type+this[1].toStrings()},Boolean.prototype.toStrings=Boolean.prototype.toString,String.prototype.toStrings=String.prototype.toString}(function(){return typeof window=="undefined"?exports:window}()),glMatrixArrayType=typeof Float32Array!="undefined"?Float32Array:typeof WebGLFloatArray!="undefined"?WebGLFloatArray:Array;var vec3={};vec3.create=function(a){var b=new glMatrixArrayType(3);return a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2]),b},vec3.set=function(a,b){return b[0]=a[0],b[1]=a[1],b[2]=a[2],b},vec3.add=function(a,b,c){return!c||a==c?(a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a):(c[0]=a[0]+b[0],c[1]=a[1]+b[1],c[2]=a[2]+b[2],c)},vec3.subtract=function(a,b,c){return!c||a==c?(a[0]-=b[0],a[1]-=b[1],a[2]-=b[2],a):(c[0]=a[0]-b[0],c[1]=a[1]-b[1],c[2]=a[2]-b[2],c)},vec3.negate=function(a,b){return b||(b=a),b[0]=-a[0],b[1]=-a[1],b[2]=-a[2],b},vec3.scale=function(a,b,c){return!c||a==c?(a[0]*=b,a[1]*=b,a[2]*=b,a):(c[0]=a[0]*b,c[1]=a[1]*b,c[2]=a[2]*b,c)},vec3.normalize=function(a,b){b||(b=a);var c=a[0],d=a[1],e=a[2],f=Math.sqrt(c*c+d*d+e*e);return f?f==1?(b[0]=c,b[1]=d,b[2]=e,b):(f=1/f,b[0]=c*f,b[1]=d*f,b[2]=e*f,b):(b[0]=0,b[1]=0,b[2]=0,b)},vec3.cross=function(a,b,c){c||(c=a);var d=a[0],e=a[1];a=a[2];var f=b[0],g=b[1];return b=b[2],c[0]=e*b-a*g,c[1]=a*f-d*b,c[2]=d*g-e*f,c},vec3.length=function(a){var b=a[0],c=a[1];return a=a[2],Math.sqrt(b*b+c*c+a*a)},vec3.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},vec3.direction=function(a,b,c){c||(c=a);var d=a[0]-b[0],e=a[1]-b[1];return a=a[2]-b[2],b=Math.sqrt(d*d+e*e+a*a),b?(b=1/b,c[0]=d*b,c[1]=e*b,c[2]=a*b,c):(c[0]=0,c[1]=0,c[2]=0,c)},vec3.lerp=function(a,b,c,d){return d||(d=a),d[0]=a[0]+c*(b[0]-a[0]),d[1]=a[1]+c*(b[1]-a[1]),d[2]=a[2]+c*(b[2]-a[2]),d},vec3.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+"]"};var mat3={};mat3.create=function(a){var b=new glMatrixArrayType(9);return a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9]),b},mat3.set=function(a,b){return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b},mat3.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},mat3.transpose=function(a,b){if(!b||a==b){var c=a[1],d=a[2],e=a[5];return a[1]=a[3],a[2]=a[6],a[3]=c,a[5]=a[7],a[6]=d,a[7]=e,a}return b[0]=a[0],b[1]=a[3],b[2]=a[6],b[3]=a[1],b[4]=a[4],b[5]=a[7],b[6]=a[2],b[7]=a[5],b[8]=a[8],b},mat3.toMat4=function(a,b){return b||(b=mat4.create()),b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=0,b[4]=a[3],b[5]=a[4],b[6]=a[5],b[7]=0,b[8]=a[6],b[9]=a[7],b[10]=a[8],b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},mat3.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+"]"};var mat4={};mat4.create=function(a){var b=new glMatrixArrayType(16);return a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]),b},mat4.set=function(a,b){return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15],b},mat4.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},mat4.transpose=function(a,b){if(!b||a==b){var c=a[1],d=a[2],e=a[3],f=a[6],g=a[7],h=a[11];return a[1]=a[4],a[2]=a[8],a[3]=a[12],a[4]=c,a[6]=a[9],a[7]=a[13],a[8]=d,a[9]=f,a[11]=a[14],a[12]=e,a[13]=g,a[14]=h,a}return b[0]=a[0],b[1]=a[4],b[2]=a[8],b[3]=a[12],b[4]=a[1],b[5]=a[5],b[6]=a[9],b[7]=a[13],b[8]=a[2],b[9]=a[6],b[10]=a[10],b[11]=a[14],b[12]=a[3],b[13]=a[7],b[14]=a[11],b[15]=a[15],b},mat4.determinant=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8],k=a[9],l=a[10],m=a[11],n=a[12],o=a[13],p=a[14];return a=a[15],n*k*h*e-j*o*h*e-n*g*l*e+f*o*l*e+j*g*p*e-f*k*p*e-n*k*d*i+j*o*d*i+n*c*l*i-b*o*l*i-j*c*p*i+b*k*p*i+n*g*d*m-f*o*d*m-n*c*h*m+b*o*h*m+f*c*p*m-b*g*p*m-j*g*d*a+f*k*d*a+j*c*h*a-b*k*h*a-f*c*l*a+b*g*l*a},mat4.inverse=function(a,b){b||(b=a);var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=a[6],j=a[7],k=a[8],l=a[9],m=a[10],n=a[11],o=a[12],p=a[13],q=a[14],r=a[15],s=c*h-d*g,t=c*i-e*g,u=c*j-f*g,v=d*i-e*h,w=d*j-f*h,x=e*j-f*i,y=k*p-l*o,z=k*q-m*o,A=k*r-n*o,B=l*q-m*p,C=l*r-n*p,D=m*r-n*q,E=1/(s*D-t*C+u*B+v*A-w*z+x*y);return b[0]=(h*D-i*C+j*B)*E,b[1]=(-d*D+e*C-f*B)*E,b[2]=(p*x-q*w+r*v)*E,b[3]=(-l*x+m*w-n*v)*E,b[4]=(-g*D+i*A-j*z)*E,b[5]=(c*D-e*A+f*z)*E,b[6]=(-o*x+q*u-r*t)*E,b[7]=(k*x-m*u+n*t)*E,b[8]=(g*C-h*A+j*y)*E,b[9]=(-c*C+d*A-f*y)*E,b[10]=(o*w-p*u+r*s)*E,b[11]=(-k*w+l*u-n*s)*E,b[12]=(-g*B+h*z-i*y)*E,b[13]=(c*B-d*z+e*y)*E,b[14]=(-o*v+p*t-q*s)*E,b[15]=(k*v-l*t+m*s)*E,b},mat4.toRotationMat=function(a,b){return b||(b=mat4.create()),b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},mat4.toMat3=function(a,b){return b||(b=mat3.create()),b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[4],b[4]=a[5],b[5]=a[6],b[6]=a[8],b[7]=a[9],b[8]=a[10],b},mat4.toInverseMat3=function(a,b){var c=a[0],d=a[1],e=a[2],f=a[4],g=a[5],h=a[6],i=a[8],j=a[9],k=a[10],l=k*g-h*j,m=-k*f+h*i,n=j*f-g*i,o=c*l+d*m+e*n;return o?(o=1/o,b||(b=mat3.create()),b[0]=l*o,b[1]=(-k*d+e*j)*o,b[2]=(h*d-e*g)*o,b[3]=m*o,b[4]=(k*c-e*i)*o,b[5]=(-h*c+e*f)*o,b[6]=n*o,b[7]=(-j*c+d*i)*o,b[8]=(g*c-d*f)*o,b):null},mat4.multiply=function(a,b,c){c||(c=a);var d=a[0],e=a[1],f=a[2],g=a[3],h=a[4],i=a[5],j=a[6],k=a[7],l=a[8],m=a[9],n=a[10],o=a[11],p=a[12],q=a[13],r=a[14];a=a[15];var s=b[0],t=b[1],u=b[2],v=b[3],w=b[4],x=b[5],y=b[6],z=b[7],A=b[8],B=b[9],C=b[10],D=b[11],E=b[12],F=b[13],G=b[14];return b=b[15],c[0]=s*d+t*h+u*l+v*p,c[1]=s*e+t*i+u*m+v*q,c[2]=s*f+t*j+u*n+v*r,c[3]=s*g+t*k+u*o+v*a,c[4]=w*d+x*h+y*l+z*p,c[5]=w*e+x*i+y*m+z*q,c[6]=w*f+x*j+y*n+z*r,c[7]=w*g+x*k+y*o+z*a,c[8]=A*d+B*h+C*l+D*p,c[9]=A*e+B*i+C*m+D*q,c[10]=A*f+B*j+C*n+D*r,c[11]=A*g+B*k+C*o+D*a,c[12]=E*d+F*h+G*l+b*p,c[13]=E*e+F*i+G*m+b*q,c[14]=E*f+F*j+G*n+b*r,c[15]=E*g+F*k+G*o+b*a,c},mat4.multiplyVec3=function(a,b,c){c||(c=b);var d=b[0],e=b[1];return b=b[2],c[0]=a[0]*d+a[4]*e+a[8]*b+a[12],c[1]=a[1]*d+a[5]*e+a[9]*b+a[13],c[2]=a[2]*d+a[6]*e+a[10]*b+a[14],c},mat4.multiplyVec4=function(a,b,c){c||(c=b);var d=b[0],e=b[1],f=b[2];return b=b[3],c[0]=a[0]*d+a[4]*e+a[8]*f+a[12]*b,c[1]=a[1]*d+a[5]*e+a[9]*f+a[13]*b,c[2]=a[2]*d+a[6]*e+a[10]*f+a[14]*b,c[3]=a[3]*d+a[7]*e+a[11]*f+a[15]*b,c},mat4.translate=function(a,b,c){var d=b[0],e=b[1];b=b[2];if(!c||a==c)return a[12]=a[0]*d+a[4]*e+a[8]*b+a[12],a[13]=a[1]*d+a[5]*e+a[9]*b+a[13],a[14]=a[2]*d+a[6]*e+a[10]*b+a[14],a[15]=a[3]*d+a[7]*e+a[11]*b+a[15],a;var f=a[0],g=a[1],h=a[2],i=a[3],j=a[4],k=a[5],l=a[6],m=a[7],n=a[8],o=a[9],p=a[10],q=a[11];return c[0]=f,c[1]=g,c[2]=h,c[3]=i,c[4]=j,c[5]=k,c[6]=l,c[7]=m,c[8]=n,c[9]=o,c[10]=p,c[11]=q,c[12]=f*d+j*e+n*b+a[12],c[13]=g*d+k*e+o*b+a[13],c[14]=h*d+l*e+p*b+a[14],c[15]=i*d+m*e+q*b+a[15],c},mat4.scale=function(a,b,c){var d=b[0],e=b[1];return b=b[2],!c||a==c?(a[0]*=d,a[1]*=d,a[2]*=d,a[3]*=d,a[4]*=e,a[5]*=e,a[6]*=e,a[7]*=e,a[8]*=b,a[9]*=b,a[10]*=b,a[11]*=b,a):(c[0]=a[0]*d,c[1]=a[1]*d,c[2]=a[2]*d,c[3]=a[3]*d,c[4]=a[4]*e,c[5]=a[5]*e,c[6]=a[6]*e,c[7]=a[7]*e,c[8]=a[8]*b,c[9]=a[9]*b,c[10]=a[10]*b,c[11]=a[11]*b,c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15],c)},mat4.rotate=function(a,b,c,d){var e=c[0],f=c[1];c=c[2];var g=Math.sqrt(e*e+f*f+c*c);if(!g)return null;g!=1&&(g=1/g,e*=g,f*=g,c*=g);var h=Math.sin(b),i=Math.cos(b),j=1-i;b=a[0],g=a[1];var k=a[2],l=a[3],m=a[4],n=a[5],o=a[6],p=a[7],q=a[8],r=a[9],s=a[10],t=a[11],u=e*e*j+i,v=f*e*j+c*h,w=c*e*j-f*h,x=e*f*j-c*h,y=f*f*j+i,z=c*f*j+e*h,A=e*c*j+f*h;return e=f*c*j-e*h,f=c*c*j+i,d?a!=d&&(d[12]=a[12],d[13]=a[13],d[14]=a[14],d[15]=a[15]):d=a,d[0]=b*u+m*v+q*w,d[1]=g*u+n*v+r*w,d[2]=k*u+o*v+s*w,d[3]=l*u+p*v+t*w,d[4]=b*x+m*y+q*z,d[5]=g*x+n*y+r*z,d[6]=k*x+o*y+s*z,d[7]=l*x+p*y+t*z,d[8]=b*A+m*e+q*f,d[9]=g*A+n*e+r*f,d[10]=k*A+o*e+s*f,d[11]=l*A+p*e+t*f,d},mat4.rotateX=function(a,b,c){var d=Math.sin(b);b=Math.cos(b);var e=a[4],f=a[5],g=a[6],h=a[7],i=a[8],j=a[9],k=a[10],l=a[11];return c?a!=c&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a,c[4]=e*b+i*d,c[5]=f*b+j*d,c[6]=g*b+k*d,c[7]=h*b+l*d,c[8]=e*-d+i*b,c[9]=f*-d+j*b,c[10]=g*-d+k*b,c[11]=h*-d+l*b,c},mat4.rotateY=function(a,b,c){var d=Math.sin(b);b=Math.cos(b);var e=a[0],f=a[1],g=a[2],h=a[3],i=a[8],j=a[9],k=a[10],l=a[11];return c?a!=c&&(c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a,c[0]=e*b+i*-d,c[1]=f*b+j*-d,c[2]=g*b+k*-d,c[3]=h*b+l*-d,c[8]=e*d+i*b,c[9]=f*d+j*b,c[10]=g*d+k*b,c[11]=h*d+l*b,c},mat4.rotateZ=function(a,b,c){var d=Math.sin(b);b=Math.cos(b);var e=a[0],f=a[1],g=a[2],h=a[3],i=a[4],j=a[5],k=a[6],l=a[7];return c?a!=c&&(c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a,c[0]=e*b+i*d,c[1]=f*b+j*d,c[2]=g*b+k*d,c[3]=h*b+l*d,c[4]=e*-d+i*b,c[5]=f*-d+j*b,c[6]=g*-d+k*b,c[7]=h*-d+l*b,c},mat4.frustum=function(a,b,c,d,e,f,g){g||(g=mat4.create());var h=b-a,i=d-c,j=f-e;return g[0]=e*2/h,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=e*2/i,g[6]=0,g[7]=0,g[8]=(b+a)/h,g[9]=(d+c)/i,g[10]=-(f+e)/j,g[11]=-1,g[12]=0,g[13]=0,g[14]=-(f*e*2)/j,g[15]=0,g},mat4.perspective=function(a,b,c,d,e){return a=c*Math.tan(a*Math.PI/360),b=a*b,mat4.frustum(-b,b,-a,a,c,d,e)},mat4.ortho=function(a,b,c,d,e,f,g){g||(g=mat4.create());var h=b-a,i=d-c,j=f-e;return g[0]=2/h,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=2/i,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=-2/j,g[11]=0,g[12]=-(a+b)/h,g[13]=-(d+c)/i,g[14]=-(f+e)/j,g[15]=1,g},mat4.lookAt=function(a,b,c,d){d||(d=mat4.create());var e=a[0],f=a[1];a=a[2];var g=c[0],h=c[1],i=c[2];c=b[1];var j=b[2];if(e==b[0]&&f==c&&a==j)return mat4.identity(d);var k,l,m,n;return c=e-b[0],j=f-b[1],b=a-b[2],n=1/Math.sqrt(c*c+j*j+b*b),c*=n,j*=n,b*=n,k=h*b-i*j,i=i*c-g*b,g=g*j-h*c,(n=Math.sqrt(k*k+i*i+g*g))?(n=1/n,k*=n,i*=n,g*=n):g=i=k=0,h=j*g-b*i,l=b*k-c*g,m=c*i-j*k,(n=Math.sqrt(h*h+l*l+m*m))?(n=1/n,h*=n,l*=n,m*=n):m=l=h=0,d[0]=k,d[1]=h,d[2]=c,d[3]=0,d[4]=i,d[5]=l,d[6]=j,d[7]=0,d[8]=g,d[9]=m,d[10]=b,d[11]=0,d[12]=-(k*e+i*f+g*a),d[13]=-(h*e+l*f+m*a),d[14]=-(c*e+j*f+b*a),d[15]=1,d},mat4.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+"]"},quat4={},quat4.create=function(a){var b=new glMatrixArrayType(4);return a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]),b},quat4.set=function(a,b){return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b},quat4.calculateW=function(a,b){var c=a[0],d=a[1],e=a[2];return!b||a==b?(a[3]=-Math.sqrt(Math.abs(1-c*c-d*d-e*e)),a):(b[0]=c,b[1]=d,b[2]=e,b[3]=-Math.sqrt(Math.abs(1-c*c-d*d-e*e)),b)},quat4.inverse=function(a,b){return!b||a==b?(a[0]*=1,a[1]*=1,a[2]*=1,a):(b[0]=-a[0],b[1]=-a[1],b[2]=-a[2],b[3]=a[3],b)},quat4.length=function(a){var b=a[0],c=a[1],d=a[2];return a=a[3],Math.sqrt(b*b+c*c+d*d+a*a)},quat4.normalize=function(a,b){b||(b=a);var c=a[0],d=a[1],e=a[2],f=a[3],g=Math.sqrt(c*c+d*d+e*e+f*f);return g==0?(b[0]=0,b[1]=0,b[2]=0,b[3]=0,b):(g=1/g,b[0]=c*g,b[1]=d*g,b[2]=e*g,b[3]=f*g,b)},quat4.multiply=function(a,b,c){c||(c=a);var d=a[0],e=a[1],f=a[2];a=a[3];var g=b[0],h=b[1],i=b[2];return b=b[3],c[0]=d*b+a*g+e*i-f*h,c[1]=e*b+a*h+f*g-d*i,c[2]=f*b+a*i+d*h-e*g,c[3]=a*b-d*g-e*h-f*i,c},quat4.multiplyVec3=function(a,b,c){c||(c=b);var d=b[0],e=b[1],f=b[2];b=a[0];var g=a[1],h=a[2];a=a[3];var i=a*d+g*f-h*e,j=a*e+h*d-b*f,k=a*f+b*e-g*d;return d=-b*d-g*e-h*f,c[0]=i*a+d*-b+j*-h-k*-g,c[1]=j*a+d*-g+k*-b-i*-h,c[2]=k*a+d*-h+i*-g-j*-b,c},quat4.toMat3=function(a,b){b||(b=mat3.create());var c=a[0],d=a[1],e=a[2],f=a[3],g=c+c,h=d+d,i=e+e,j=c*g,k=c*h;c=c*i;var l=d*h;return d=d*i,e=e*i,g=f*g,h=f*h,f=f*i,b[0]=1-(l+e),b[1]=k-f,b[2]=c+h,b[3]=k+f,b[4]=1-(j+e),b[5]=d-g,b[6]=c-h,b[7]=d+g,b[8]=1-(j+l),b},quat4.toMat4=function(a,b){b||(b=mat4.create());var c=a[0],d=a[1],e=a[2],f=a[3],g=c+c,h=d+d,i=e+e,j=c*g,k=c*h;c=c*i;var l=d*h;return d=d*i,e=e*i,g=f*g,h=f*h,f=f*i,b[0]=1-(l+e),b[1]=k-f,b[2]=c+h,b[3]=0,b[4]=k+f,b[5]=1-(j+e),b[6]=d-g,b[7]=0,b[8]=c-h,b[9]=d+g,b[10]=1-(j+l),b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},quat4.slerp=function(a,b,c,d){d||(d=a);var e=c;return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]<0&&(e=-1*c),d[0]=1-c*a[0]+e*b[0],d[1]=1-c*a[1]+e*b[1],d[2]=1-c*a[2]+e*b[2],d[3]=1-c*a[3]+e*b[3],d},quat4.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"},function(){function a(){}function b(){}function c(a,b,c){this.init(a,[b],[c||(a&&a.length>1?a.slice(1):a)])}function d(){}function e(a,b,c){if(!arguments.length)return;var d=this;d.parent=a,d.prev=b||0,d.next=c||0,d.jQinit(d.fold(M(),function(a,b){return b.jQ.add(a)}))}function f(a,b,c,d){function f(){q=N;var a=n.selection?"$"+n.selection.latex()+"$":"";p.val(a);if(a)if(p[0].select)p[0].select();else if(document.selection){var b=p[0].createTextRange();b.expand("textedit"),b.select()}}function g(a){return n.seek(M(a.target),a.pageX,a.pageY),(n.prev!==r.prev||n.parent!==r.parent)&&n.selectFrom(r),!1}function h(a){return delete a.target,g(a)}function i(b){r=N,n.blink=s,n.selection||(d?n.show():o.detach()),a.unbind("mousemove",g),M(document).unbind("mousemove",h).unbind("mouseup",i)}function j(){p.focus()}function k(){var a=p.val();a.slice(0,1)==="$"&&a.slice(-1)==="$"?a=a.slice(1,-1):a="\\text{"+a+"}",n.writeLatex(a).show(),p.val("")}function l(){if(v)return;var a=p.val();if(a){p.val("");for(var b=0;b<a.length;b+=1)n.parent.textInput(a.charAt(b))}else(n.selection||q!==N)&&f()}var m=a.contents().detach();c||a.addClass("mathquill-rendered-math"),b.jQ=a.data(P,{block:b,revert:function(){a.empty().unbind(".mathquill").removeClass("mathquill-rendered-math mathquill-editable mathquill-textbox").append(m)}});var n=b.cursor=new K(b);b.renderLatex(m.text());var o=b.textarea=M('<span class="textarea"><textarea></textarea></span>'),p=o.children(),q;b.selectionChanged=function(){q===N&&(q=setTimeout(f))},a.bind("selectstart.mathquill",function(a){a.target!==p[0]&&a.preventDefault(),a.stopPropagation()});var r,s=n.blink;a.bind("mousedown.mathquill",function(b){n.blink=M.noop,n.seek(M(b.target),b.pageX,b.pageY),r=new e(n.parent,n.prev,n.next),d||a.prepend(o),a.mousemove(g),M(document).mousemove(h).mouseup(i),b.stopPropagation()});if(!d){a.bind("cut paste",!1).bind("copy",f).prepend('<span class="selectable">$'+b.latex()+"$</span>"),p.blur(function(){n.clearSelection(),setTimeout(t)});function t(){o.detach()}return}a.prepend(o),a.addClass("mathquill-editable"),c&&a.addClass("mathquill-textbox"),p.focus(function(a){n.parent||n.appendTo(b),n.parent.jQ.addClass("hasCursor"),n.selection?(n.selection.jQ.removeClass("blur"),setTimeout(b.selectionChanged)):n.show(),a.stopPropagation()}).blur(function(a){n.hide().parent.blur(),n.selection&&n.selection.jQ.addClass("blur"),a.stopPropagation()}),a.bind("focus.mathquill blur.mathquill",function(a){p.trigger(a)}).bind("mousedown.mathquill",function(){setTimeout(j)}).bind("click.mathquill",j).blur(),a.bind("cut",function(a){f(),n.selection&&setTimeout(function(){n.deleteSelection(),n.redraw()}),a.stopPropagation()}).bind("copy",function(a){f(),v=!0,a.stopPropagation()}).bind("paste",function(a){v=!0,setTimeout(k),a.stopPropagation()});var u={},v=!1;a.bind("keydown.mathquill",function(a){u.evt=a,u.happened=!0,n.parent.keydown(a)===!1&&a.preventDefault()}).bind("keypress.mathquill",function(a){u.happened?u.happened=!1:n.parent.keydown(u.evt),q!==N&&clearTimeout(q),(n.selection||
q!==N)&&p.val(""),v=!1,setTimeout(l)})}function g(){}function h(a){this.init("$"),this.firstChild.cursor=a,this.firstChild.textInput=function(b){if(this.skipTextInput)return;b!=="$"||a.parent!==this?a.write(b):this.isEmpty()?a.insertAfter(this.parent).backspace().insertNew(new E("\\$","$")).show():a.next?a.prev?a.write(b):a.insertBefore(this.parent):a.insertAfter(this.parent)}}function i(){}function j(a,b){return b.prototype=a.prototype,b}function k(a){var b=Array.prototype.slice.call(arguments,1);return j(a,function(){a.apply(this,Array.prototype.concat.apply(b,arguments))})}function l(a,b,c){this.init(a,[b],N,c)}function m(a,b,c,d){this.init(a,[b],[c],d)}function n(a){this.init("\\frac",N,N,a),this.jQ.append('<span style="display:inline-block;width:0">&nbsp;</span>')}function o(){n.apply(this,arguments)}function p(a){this.init("\\sqrt",N,N,a)}function q(a){p.call(this,a),this.jQ=this.firstChild.jQ.detach().add(this.jQ)}function r(a,b,c,d,e){this.init("\\left"+c,['<span class="block"><span class="paren">'+a+'</span><span class="block"></span><span class="paren">'+b+"</span></span>"],[a,b],e),this.end="\\right"+d}function s(a,b,c,d,e){r.apply(this,arguments)}function t(a,b,c){r.call(this,a,b,a,b,c)}function u(a,b,c){s.call(this,a,b,a,b,c)}function v(a){t.call(this,"|","|",a)}function w(a){a instanceof e?this.replacedText=a.remove().jQ.text():typeof a=="string"&&(this.replacedText=a),this.init()}function x(){}function y(a,b){function c(){w.apply(this,arguments)}return O=c.prototype=new w,O.cmd=a,O.html_template=[b],c}function z(a){this.init("\\"),a&&(this.replacedFragment=a.detach(),this.isEmpty=function(){return!1})}function A(a){this.init("\\binom",N,N,a),this.jQ.wrapInner('<span class="array"></span>'),this.blockjQ=this.jQ.children(),this.bracketjQs=M('<span class="paren">(</span>').prependTo(this.jQ).add(M('<span class="paren">)</span>').appendTo(this.jQ))}function B(){A.apply(this,arguments)}function C(a){this.init("\\vector",N,N,a)}function D(a,b){c.call(this,a,"<var>"+(b||a)+"</var>")}function E(a,b){c.call(this,a,"<span>"+(b||a)+"</span>")}function F(a,b){c.call(this,a,'<span class="nonSymbola">'+(b||a)+"</span>")}function G(a,b,d){c.call(this,a,'<span class="binary-operator">'+b+"</span>",d)}function H(a,b){E.apply(this,arguments)}function I(a,b){c.call(this,a,"<big>"+b+"</big>")}function J(a,b){c.call(this,"\\"+b+" ","<span>"+b+"</span>")}function K(a){this.parent=this.root=a;var b=this.jQ=this._jQ=M('<span class="cursor"></span>');this.blink=function(){b.toggleClass("blink")}}function L(a,b,c){e.apply(this,arguments)}var M=jQuery,N,O,P="[[mathquill internal data]]",Q=Math.min,R=Math.max;O=a.prototype,O.prev=0,O.next=0,O.parent=0,O.firstChild=0,O.lastChild=0,O.eachChild=function(a){for(var b=this.firstChild;b;b=b.next)if(a.call(this,b)===!1)break;return this},O.foldChildren=function(a,b){return this.eachChild(function(c){a=b.call(this,a,c)}),a},O.keydown=function(a){return this.parent.keydown(a)},O.textInput=function(a){return this.parent.textInput(a)},O=b.prototype=new a,O.init=function(a,b,c,d){var e=this;a&&(e.cmd=a),b&&(e.html_template=b),c&&(e.text_template=c),e.jQ=M(e.html_template[0]).data(P,{cmd:e}),e.initBlocks(d)},O.initBlocks=function(a){var b=this;if(b.html_template.length===1){b.firstChild=b.lastChild=b.jQ.data(P).block=a&&a.blockify()||new d,b.firstChild.parent=b,b.firstChild.jQ=b.jQ.append(b.firstChild.jQ);return}var c,e,f=b.html_template.length;this.firstChild=c=e=a&&a.blockify()||new d,c.parent=b,c.jQ=M(b.html_template[1]).data(P,{block:c}).append(c.jQ).appendTo(b.jQ),c.blur();for(var g=2;g<f;g+=1)c=new d,c.parent=b,c.prev=e,e.next=c,e=c,c.jQ=M(b.html_template[g]).data(P,{block:c}).appendTo(b.jQ),c.blur();b.lastChild=c},O.latex=function(){return this.foldChildren(this.cmd,function(a,b){return a+"{"+(b.latex()||" ")+"}"})},O.text_template=[""],O.text=function(){var a=0;return this.foldChildren(this.text_template[a],function(b,c){a+=1;var d=c.text();return b&&this.text_template[a]==="("&&d[0]==="("&&d.slice(-1)===")"?b+d.slice(1,-1)+this.text_template[a]:b+c.text()+(this.text_template[a]||"")})},O.insertAt=function(a){var b=this;b.parent=a.parent,b.next=a.next,b.prev=a.prev,a.prev?a.prev.next=b:a.parent.firstChild=b,a.next?a.next.prev=b:a.parent.lastChild=b,a.prev=b,b.jQ.insertBefore(a.jQ),b.respace(),b.next&&b.next.respace(),b.prev&&b.prev.respace(),b.placeCursor(a),a.redraw()},O.respace=M.noop,O.placeCursor=function(a){a.appendTo(this.foldChildren(this.firstChild,function(a,b){return a.isEmpty()?a:b}))},O.isEmpty=function(){return this.foldChildren(!0,function(a,b){return a&&b.isEmpty()})},O.remove=function(){var a=this,b=a.prev,c=a.next,d=a.parent;return b?b.next=c:d.firstChild=c,c?c.prev=b:d.lastChild=b,a.jQ.remove(),a},O=c.prototype=new b,O.initBlocks=M.noop,O.latex=function(){return this.cmd},O.text=function(){return this.text_template},O.placeCursor=M.noop,O.isEmpty=function(){return!0},O=d.prototype=new a,O.latex=function(){return this.foldChildren("",function(a,b){return a+b.latex()})},O.text=function(){return this.firstChild===this.lastChild?this.firstChild.text():this.foldChildren("(",function(a,b){return a+b.text()})+")"},O.isEmpty=function(){return this.firstChild===0&&this.lastChild===0},O.focus=function(){return this.jQ.addClass("hasCursor"),this.isEmpty()&&this.jQ.removeClass("empty"),this},O.blur=function(){return this.jQ.removeClass("hasCursor"),this.isEmpty()&&this.jQ.addClass("empty"),this},O=e.prototype,O.remove=b.prototype.remove,O.jQinit=function(a){this.jQ=a},O.each=function(a){for(var b=this.prev.next||this.parent.firstChild;b!==this.next;b=b.next)if(a.call(this,b)===!1)break;return this},O.fold=function(a,b){return this.each(function(c){a=b.call(this,a,c)}),a},O.latex=function(){return this.fold("",function(a,b){return a+b.latex()})},O.blockify=function(){var a=this,b=a.prev,c=a.next,e=a.parent,f=new d,g=f.firstChild=b.next||e.firstChild,h=f.lastChild=c.prev||e.lastChild;return b?b.next=c:e.firstChild=c,c?c.prev=b:e.lastChild=b,g.prev=a.prev=0,h.next=a.next=0,a.parent=f,a.each(function(a){a.parent=f}),f.jQ=a.jQ,f},O=g.prototype=new d,O.latex=function(){return d.prototype.latex.call(this).replace(/(\\[a-z]+) (?![a-z])/ig,"$1")},O.text=function(){return this.foldChildren("",function(a,b){return a+b.text()})},O.renderLatex=function(a){this.jQ.children().slice(1).remove(),this.firstChild=this.lastChild=0,this.cursor.appendTo(this).writeLatex(a),this.blur()},O.keydown=function(a){a.ctrlKey=a.ctrlKey||a.metaKey;switch(a.originalEvent&&a.originalEvent.keyIdentifier||a.which){case 8:case"Backspace":case"U+0008":if(a.ctrlKey)while(this.cursor.prev||this.cursor.selection)this.cursor.backspace();else this.cursor.backspace();break;case 27:case"Esc":case"U+001B":case 9:case"Tab":case"U+0009":if(a.ctrlKey)break;var b=this.cursor.parent;if(a.shiftKey){if(b===this.cursor.root)return this.skipTextInput=!0;b.prev?this.cursor.appendTo(b.prev):this.cursor.insertBefore(b.parent)}else{if(b===this.cursor.root)return this.skipTextInput=!0;b.next?this.cursor.prependTo(b.next):this.cursor.insertAfter(b.parent)}this.cursor.clearSelection();break;case 13:case"Enter":break;case 35:case"End":if(a.shiftKey)while(this.cursor.next||a.ctrlKey&&this.cursor.parent!==this)this.cursor.selectRight();else this.cursor.clearSelection().appendTo(a.ctrlKey?this:this.cursor.parent);break;case 36:case"Home":if(a.shiftKey)while(this.cursor.prev||a.ctrlKey&&this.cursor.parent!==this)this.cursor.selectLeft();else this.cursor.clearSelection().prependTo(a.ctrlKey?this:this.cursor.parent);break;case 37:case"Left":if(a.ctrlKey)break;a.shiftKey?this.cursor.selectLeft():this.cursor.moveLeft();break;case 38:case"Up":if(a.ctrlKey)break;if(a.shiftKey)if(this.cursor.prev)while(this.cursor.prev)this.cursor.selectLeft();else this.cursor.selectLeft();else this.cursor.parent.prev?this.cursor.clearSelection().appendTo(this.cursor.parent.prev):this.cursor.prev?this.cursor.clearSelection().prependTo(this.cursor.parent):this.cursor.parent!==this&&this.cursor.clearSelection().insertBefore(this.cursor.parent.parent);break;case 39:case"Right":if(a.ctrlKey)break;a.shiftKey?this.cursor.selectRight():this.cursor.moveRight();break;case 40:case"Down":if(a.ctrlKey)break;if(a.shiftKey)if(this.cursor.next)while(this.cursor.next)this.cursor.selectRight();else this.cursor.selectRight();else this.cursor.parent.next?this.cursor.clearSelection().prependTo(this.cursor.parent.next):this.cursor.next?this.cursor.clearSelection().appendTo(this.cursor.parent):this.cursor.parent!==this&&this.cursor.clearSelection().insertAfter(this.cursor.parent.parent);break;case 46:case"Del":case"U+007F":if(a.ctrlKey)while(this.cursor.next||this.cursor.selection)this.cursor.deleteForward();else this.cursor.deleteForward();break;case 65:case"A":case"U+0041":if(a.ctrlKey&&!a.shiftKey&&!a.altKey){if(this!==this.cursor.root)return this.parent.keydown(a);this.cursor.clearSelection().appendTo(this);while(this.cursor.prev)this.cursor.selectLeft();break};default:return this.skipTextInput=!1,!0}return this.skipTextInput=!0,!1},O.textInput=function(a){this.skipTextInput||this.cursor.write(a)},O=h.prototype=new b,O.html_template=['<span class="mathquill-rendered-math"></span>'],O.initBlocks=function(){this.firstChild=this.lastChild=this.jQ.data(P).block=new g,this.firstChild.parent=this,this.firstChild.jQ=this.jQ},O.latex=function(){return"$"+this.firstChild.latex()+"$"},O=i.prototype=new d,O.renderLatex=function(a){var b=this,c=b.cursor;b.jQ.children().slice(1).remove(),b.firstChild=b.lastChild=0,c.show().appendTo(b),a=a.match(/(?:\\\$|[^$])+|\$(?:\\\$|[^$])*\$|\$(?:\\\$|[^$])*$/g)||"";for(var d=0;d<a.length;d+=1){var e=a[d];if(e[0]==="$"){e[-1+e.length]==="$"&&e[-2+e.length]!=="\\"?e=e.slice(1,-1):e=e.slice(1);var f=new h(c);c.insertNew(f),f.firstChild.renderLatex(e),c.show().insertAfter(f)}else for(var g=0;g<e.length;g+=1)this.cursor.insertNew(new E(e[g]))}},O.keydown=g.prototype.keydown,O.textInput=function(a){if(this.skipTextInput)return;this.cursor.deleteSelection(),a==="$"?this.cursor.insertNew(new h(this.cursor)):this.cursor.insertNew(new E(a))};var S={},T={},U,V=document.createElement("div"),W=V.style,X={transform:1,WebkitTransform:1,MozTransform:1,OTransform:1,msTransform:1},Y;for(var Z in X)if(Z in W){Y=Z;break}Y?U=function(a,b,c){a.css(Y,"scale("+b+","+c+")")}:"filter"in W?U=function(a,b,c){a.css("filter","progid:DXImageTransform.Microsoft.Matrix(M11="+b+",M22="+c+",SizingMethod='auto expand')")}:U=function(a,b,c){a.css("fontSize",c+"em")},j(b,l),T.mathrm=k(l,"\\mathrm",'<span class="roman font"></span>'),T.mathit=k(l,"\\mathit",'<i class="font"></i>'),T.mathbf=k(l,"\\mathbf",'<b class="font"></b>'),T.mathsf=k(l,"\\mathsf",'<span class="sans-serif font"></span>'),T.mathtt=k(l,"\\mathtt",'<span class="monospace font"></span>'),T.underline=k(l,"\\underline",'<span class="underline"></span>'),T.overline=T.bar=k(l,"\\overline",'<span class="overline"></span>'),O=m.prototype=new b,O.latex=function(){var a=this.firstChild.latex();return a.length===1?this.cmd+a:this.cmd+"{"+(a||" ")+"}"},O.redraw=function(){this.respace(),this.next&&this.next.respace(),this.prev&&this.prev.respace()},O.respace=function(){this.prev.cmd==="\\int "||this.prev instanceof m&&this.prev.cmd!=this.cmd&&this.prev.prev&&this.prev.prev.cmd==="\\int "?this.limit||(this.limit=!0,this.jQ.addClass("limit")):this.limit&&(this.limit=!1,this.jQ.removeClass("limit"));if(this.respaced=this.prev instanceof m&&this.prev.cmd!=this.cmd&&!this.prev.respaced){var a=+this.jQ.css("fontSize").slice(0,-2),b=this.prev.jQ.outerWidth();thisWidth=this.jQ.outerWidth(),this.jQ.css({left:(this.limit&&this.cmd==="_"?-0.25:0)-b/a+"em",marginRight:.1-Q(thisWidth,b)/a+"em"})}else this.limit&&this.cmd==="_"?this.jQ.css({left:"-.25em",marginRight:""}):this.jQ.css({left:"",marginRight:""});return this},T.subscript=T._=j(m,function(a){m.call(this,"_","<sub></sub>","_",a)}),T.superscript=T.supscript=T["^"]=j(m,function(a){m.call(this,"^","<sup></sup>","**",a)}),O=n.prototype=new b,O.html_template=['<span class="fraction"></span>','<span class="numerator"></span>','<span class="denominator"></span>'],O.text_template=["(","/",")"],T.frac=T.dfrac=T.cfrac=T.fraction=n,O=o.prototype=new n,O.placeCursor=function(a){if(this.firstChild.isEmpty()){var b=this.prev;while(b&&!(b instanceof G||b instanceof w||b instanceof I))b=b.prev;b instanceof I&&b.next instanceof m&&(b=b.next,b.next instanceof m&&b.next.cmd!=b.cmd&&(b=b.next));if(b!==this.prev){var c=(new e(this.parent,b,this)).blockify();c.jQ=this.firstChild.jQ.empty().removeClass("empty").append(c.jQ).data(P,{block:c}),c.next=this.lastChild,c.parent=this,this.firstChild=this.lastChild.prev=c}}a.appendTo(this.lastChild)},T.over=S["/"]=o,O=p.prototype=new b,O.html_template=['<span class="block"><span class="sqrt-prefix">&radic;</span></span>','<span class="sqrt-stem"></span>'],O.text_template=["sqrt(",")"],O.redraw=function(){var a=this.lastChild.jQ;U(a.prev(),1,a.innerHeight()/+a.css("fontSize").slice(0,-2)-.1)},T.sqrt=T["â"]=p,O=q.prototype=new p,O.html_template=['<span class="block"><span class="sqrt-prefix">&radic;</span></span>','<sup class="nthroot"></sup>','<span class="sqrt-stem"></span>'],O.text_template=["sqrt[","](",")"],O.latex=function(){return"\\sqrt["+this.firstChild.latex()+"]{"+this.lastChild.latex()+"}"},T.nthroot=q,O=r.prototype=new b,O.initBlocks=function(a){this.firstChild=this.lastChild=a&&a.blockify()||new d,this.firstChild.parent=this,this.firstChild.jQ=this.jQ.children(":eq(1)").data(P,{block:this.firstChild}).append(this.firstChild.jQ);var b=this.blockjQ=this.firstChild.jQ;this.bracketjQs=b.prev().add(b.next())},O.latex=function(){return this.cmd+this.firstChild.latex()+this.end},O.redraw=function(){var a=this.blockjQ.outerHeight()/+this.blockjQ.css("fontSize").slice(0,-2);U(this.bracketjQs,Q(1+.2*(a-1),1.2),1.05*a)},T.lbrace=S["{"]=j(r,function(a){r.call(this,"{","}","\\{","\\}",a)}),T.langle=T.lang=j(r,function(a){r.call(this,"&lang;","&rang;","\\langle ","\\rangle ",a)}),O=s.prototype=new r,O.placeCursor=function(a){!this.next&&this.parent.parent&&this.parent.parent.end===this.end&&this.firstChild.isEmpty()?a.backspace().insertAfter(this.parent.parent):this.firstChild.blur()},T.rbrace=S["}"]=j(s,function(a){s.call(this,"{","}","\\{","\\}",a)}),T.rangle=T.rang=j(s,function(a){s.call(this,"&lang;","&rang;","\\langle ","\\rangle ",a)}),t.prototype=r.prototype,T.lparen=S["("]=j(t,function(a){t.call(this,"(",")",a)}),T.lbrack=T.lbracket=S["["]=j(t,function(a){t.call(this,"[","]",a)}),u.prototype=s.prototype,T.rparen=S[")"]=j(u,function(a){u.call(this,"(",")",a)}),T.rbrack=T.rbracket=S["]"]=j(u,function(a){u.call(this,"[","]",a)}),O=v.prototype=new t,O.placeCursor=function(a){!this.next&&this.parent.parent&&this.parent.parent.end===this.end&&this.firstChild.isEmpty()?a.backspace().insertAfter(this.parent.parent):a.appendTo(this.firstChild)},T.lpipe=T.rpipe=S["|"]=v,O=w.prototype=new b,O.cmd="\\text",O.html_template=['<span class="text"></span>'],O.text_template=['"','"'],O.initBlocks=function(){this.firstChild=this.lastChild=this.jQ.data(P).block=new x,this.firstChild.parent=this,this.firstChild.jQ=this.jQ.append(this.firstChild.jQ)},O.placeCursor=function(a){(this.cursor=a).appendTo(this.firstChild);if(this.replacedText)for(var b=0;b<this.replacedText.length;b+=1)this.write(this.replacedText.charAt(b))},O.write=function(a){this.cursor.insertNew(new E(a))},O.keydown=function(a){return!this.cursor.selection&&(a.which===8&&!this.cursor.prev||a.which===46&&!this.cursor.next)?(this.isEmpty()&&this.cursor.insertAfter(this),!1):this.parent.keydown(a)},O.textInput=function(a){this.cursor.deleteSelection();if(a!=="$")this.write(a);else if(this.isEmpty())this.cursor.insertAfter(this).backspace().insertNew(new E("\\$","$"));else if(!this.cursor.next)this.cursor.insertAfter(this);else if(!this.cursor.prev)this.cursor.insertBefore(this);else{var b=new w(new e(this.firstChild,this.cursor.prev));b.placeCursor=function(a){this.prev=0,delete this.placeCursor,this.placeCursor(a)},b.firstChild.focus=function(){return this},this.cursor.insertAfter(this).insertNew(b),b.prev=this,this.cursor.insertBefore(b),delete b.firstChild.focus}},O=x.prototype=new d,O.blur=function(){this.jQ.removeClass("hasCursor");if(this.isEmpty()){var a=this.parent,b=a.cursor;b.parent===this?this.jQ.addClass("empty"):(b.hide(),a.remove(),b.next===a?b.next=a.next:b.prev===a&&(b.prev=a.prev),b.show().redraw())}return this},O.focus=function(){d.prototype.focus.call(this);var a=this.parent;if(a.next.cmd===a.cmd){var b=this,c=a.cursor,e=a.next.firstChild;e.eachChild(function(a){a.parent=b,a.jQ.appendTo(b.jQ)}),this.lastChild?this.lastChild.next=e.firstChild:this.firstChild=e.firstChild,e.firstChild.prev=this.lastChild,this.lastChild=e.lastChild,e.parent.remove(),c.prev?c.insertAfter(c.prev):c.prependTo(this),c.redraw()}else if(a.prev.cmd===a.cmd){var c=a.cursor;c.prev?a.prev.firstChild.focus():c.appendTo(a.prev.firstChild)}return this},S.$=T.text=T.textnormal=T.textrm=T.textup=T.textmd=w,T.em=T.italic=T.italics=T.emph=T.textit=T.textsl=y("\\textit",'<i class="text"></i>'),T.strong=T.bold=T.textbf=y("\\textbf",'<b class="text"></b>'),T.sf=T.textsf=y("\\textsf",'<span class="sans-serif text"></span>'),T.tt=T.texttt=y("\\texttt",'<span class="monospace text"></span>'),T.textsc=y("\\textsc",'<span style="font-variant:small-caps" class="text"></span>'),T.uppercase=y("\\uppercase",'<span style="text-transform:uppercase" class="text"></span>'),T.lowercase=y("\\lowercase",'<span style="text-transform:lowercase" class="text"></span>'),O=z.prototype=new b,O.html_template=['<span class="latex-command-input">\\</span>'],O.text_template=["\\"],O.placeCursor=function(a){this.cursor=a.appendTo(this.firstChild),this.replacedFragment&&(this.jQ=this.jQ.add(this.replacedFragment.jQ.addClass("blur").bind("mousedown mousemove",function(a){return M(a.target=this.nextSibling).trigger(a),!1}).insertBefore(this.jQ)))},O.latex=function(){return"\\"+this.firstChild.latex()+" "},O.keydown=function(a){return a.which===9||a.which===13?(this.renderCommand(),!1):this.parent.keydown(a)},O.textInput=function(a){if(a.match(/[a-z]/i)){this.cursor.deleteSelection(),this.cursor.insertNew(new E(a));return}this.renderCommand();if(a===" "||a==="\\"&&this.firstChild.isEmpty())return;this.cursor.parent.textInput(a)},O.renderCommand=function(){this.jQ=this.jQ.last(),this.remove(),this.next?this.cursor.insertBefore(this.next):this.cursor.appendTo(this.parent);var a=this.firstChild.latex(),b;if(a)if(b=T[a])b=new b(this.replacedFragment,a);else{b=new w(a),b.firstChild.focus=function(){return delete this.focus,this},this.cursor.insertNew(b).insertAfter(b),this.replacedFragment&&this.replacedFragment.remove();return}else b=new E("\\backslash ","\\");this.cursor.insertNew(b),b instanceof c&&this.replacedFragment&&this.replacedFragment.remove()},S["\\"]=z,O=A.prototype=new b,O.html_template=['<span class="block"></span>',"<span></span>","<span></span>"],O.text_template=["choose(",",",")"],O.redraw=r.prototype.redraw,T.binom=T.binomial=A,O=B.prototype=new A,O.placeCursor=o.prototype.placeCursor,T.choose=B,O=C.prototype=new b,O.html_template=['<span class="array"></span>',"<span></span>"],O.latex=function(){return"\\begin{matrix}"+this.foldChildren([],function(a,b){return a.push(b.latex()),a}).join("\\\\")+"\\end{matrix}"},O.text=function(){return"["+this.foldChildren([],function(a,b){return a.push(b.text()),a}).join()+"]"},O.placeCursor=function(a){this.cursor=a.appendTo(this.firstChild)},O.keydown=function(a){var b=this.cursor.parent;if(b.parent===this){if(a.which===13){var c=new d;return c.parent=this,c.jQ=M("<span></span>").data(P,{block:c}).insertAfter(b.jQ),b.next?b.next.prev=c:this.lastChild=c,c.next=b.next,b.next=c,c.prev=b,this.cursor.appendTo(c).redraw(),!1}if(a.which===9&&!a.shiftKey&&!b.next){if(b.isEmpty())return b.prev?(this.cursor.insertAfter(this),delete b.prev.next,this.lastChild=b.prev,b.jQ.remove(),this.cursor.redraw(),!1):this.parent.keydown(a);var c=new d;return c.parent=this,c.jQ=M("<span></span>").data(P,{block:c}).appendTo(this.jQ),this.lastChild=c,b.next=c,c.prev=b,this.cursor.appendTo(c).redraw(),!1}if(a.which===8){if(b.isEmpty())return b.prev?(this.cursor.appendTo(b.prev),b.prev.next=b.next):(this.cursor.insertBefore(this),this.firstChild=b.next),b.next?b.next.prev=b.prev:this.lastChild=b.prev,b.jQ.remove(),this.isEmpty()?this.cursor.deleteForward():this.cursor.redraw(),!1;if(!this.cursor.prev)return!1}}return this.parent.keydown(a)},T.vector=C,T.editable=j(h,function(){this.init("\\editable"),f(this.jQ,this.firstChild,!1,!0);var a;this.placeCursor=function(b){a=b.appendTo(this.firstChild)},this.firstChild.blur=function(){if(a.prev!==this.parent)return;delete this.blur,this.cursor.appendTo(this),d.prototype.blur.call(this)},this.latex=function(){return this.firstChild.latex()},this.text=function(){return this.firstChild.text()}}),T.f=k(c,"f",'<var class="florin">&fnof;</var>'),O=D.prototype=new c,O.text=function(){var a=this.cmd;return this.prev&&!(this.prev instanceof D)&&!(this.prev instanceof G)&&(a="*"+a),this.next&&!(this.next instanceof G)&&this.next.cmd!=="^"&&(a+="*"),a},E.prototype=c.prototype,S[" "]=k(E,"\\:"," "),T.prime=S["'"]=k(E,"'","&prime;"),F.prototype=c.prototype,T["@"]=F,T["&"]=k(F,"\\&","&"),T["%"]=k(F,"\\%","%"),T.alpha=T.beta=T.gamma=T.delta=T.zeta=T.eta=T.theta=T.iota=T.kappa=T.mu=T.nu=T.xi=T.rho=T.sigma=T.tau=T.chi=T.psi=T.omega=j(c,function(a,b){D.call(this,"\\"+b+" ","&"+b+";")}),T.phi=k(D,"\\phi ","&#981;"),T.phiv=T.varphi=k(D,"\\varphi ","&phi;"),T.epsilon=k(D,"\\epsilon ","&#1013;"),T.epsiv=T.varepsilon=k(D,"\\varepsilon ","&epsilon;"),T.piv=T.varpi=k(D,"\\varpi ","&piv;"),T.sigmaf=T.sigmav=T.varsigma=k(D,"\\varsigma ","&sigmaf;"),T.thetav=T.vartheta=T.thetasym=k(D,"\\vartheta ","&thetasym;"),T.upsilon=T.upsi=k(D,"\\upsilon ","&upsilon;"),T.gammad=T.Gammad=T.digamma=k(D,"\\digamma ","&#989;"),T.kappav=T.varkappa=k(D,"\\varkappa ","&#1008;"),T.rhov=T.varrho=k(D,"\\varrho ","&#1009;"),T.pi=T["Ï"]=k(F,"\\pi ","&pi;"),T.lambda=k(F,"\\lambda ","&lambda;"),T.Upsilon=T.Upsi=T.upsih=T.Upsih=k(c,"\\Upsilon ",'<var style="font-family: serif">&upsih;</var>'),T.Gamma=T.Delta=T.Theta=T.Lambda=T.Xi=T.Pi=T.Sigma=T.Phi=T.Psi=T.Omega=T.forall=j(c,function(a,b){E.call(this,"\\"+b+" ","&"+b+";")}),G.prototype=new c,O=H.prototype=new G,O.respace=function(){return this.prev?this.prev instanceof G&&this.next&&!(this.next instanceof G)?this.jQ[0].className="unary-operator":this.jQ[0].className="binary-operator":this.jQ[0].className="",this},T["+"]=k(H,"+"),T["-"]=k(H,"-","&minus;"),T.pm=T.plusmn=T.plusminus=k(H,"\\pm ","&plusmn;"),T.mp=T.mnplus=T.minusplus=k(H,"\\mp ","&#8723;"),S["*"]=T.sdot=T.cdot=k(G,"\\cdot ","&middot;"),T["="]=k(G,"=","="),T["<"]=k(G,"<","&lt;"),T[">"]=k(G,">","&gt;"),T.notin=T.sim=T.cong=T.equiv=T.oplus=T.otimes=j(G,function(a,b){G.call(this,"\\"+b+" ","&"+b+";")}),T.times=j(G,function(a,b){G.call(this,"\\times ","&times;","[x]")}),T.div=T.divide=T.divides=k(G,"\\div ","&divide;","[/]"),T.ne=T.neq=k(G,"\\ne ","&ne;"),T.ast=T.star=T.loast=T.lowast=k(G,"\\ast ","&lowast;"),T.therefor=T.therefore=k(G,"\\therefore ","&there4;"),T.cuz=T.because=k(G,"\\because ","&#8757;"),T.prop=T.propto=k(G,"\\propto ","&prop;"),T.asymp=T.approx=k(G,"\\approx ","&asymp;"),T.lt=k(G,"<","&lt;"),T.gt=k(G,">","&gt;"),T.le=T.leq=k(G,"\\le ","&le;"),T.ge=T.geq=k(G,"\\ge ","&ge;"),T.isin=T["in"]=k(G,"\\in ","&isin;"),T.ni=T.contains=k(G,"\\ni ","&ni;"),T.notni=T.niton=T.notcontains=T.doesnotcontain=k(G,"\\not\\ni ","&#8716;"),T.sub=T.subset=k(G,"\\subset ","&sub;"),T.sup=T.supset=T.superset=k(G,"\\supset ","&sup;"),T.nsub=T.notsub=T.nsubset=T.notsubset=k(G,"\\not\\subset ","&#8836;"),T.nsup=T.notsup=T.nsupset=T.notsupset=T.nsuperset=T.notsuperset=k(G,"\\not\\supset ","&#8837;"),T.sube=T.subeq=T.subsete=T.subseteq=k(G,"\\subseteq ","&sube;"),T.supe=T.supeq=T.supsete=T.supseteq=T.supersete=T.superseteq=k(G,"\\supseteq ","&supe;"),T.nsube=T.nsubeq=T.notsube=T.notsubeq=T.nsubsete=T.nsubseteq=T.notsubsete=T.notsubseteq=k(G,"\\not\\subseteq ","&#8840;"),T.nsupe=T.nsupeq=T.notsupe=T.notsupeq=T.nsupsete=T.nsupseteq=T.notsupsete=T.notsupseteq=T.nsupersete=T.nsuperseteq=T.notsupersete=T.notsuperseteq=k(G,"\\not\\supseteq ","&#8841;"),I.prototype=new c,T.sum=T.summation=k(I,"\\sum ","&sum;"),T.prod=T.product=k(I,"\\prod ","&prod;"),T.coprod=T.coproduct=k(I,"\\coprod ","&#8720;"),T.int=T.integral=T["â«"]=k(I,"\\int ","&int;"),T.N=T.naturals=T.Naturals=k(E,"\\mathbb{N}","&#8469;"),T.P=T.primes=T.Primes=T.projective=T.Projective=T.probability=T.Probability=k(E,"\\mathbb{P}","&#8473;"),T.Z=T.integers=T.Integers=k(E,"\\mathbb{Z}","&#8484;"),T.Q=T.rationals=T.Rationals=k(E,"\\mathbb{Q}","&#8474;"),T.R=T.reals=T.Reals=k(E,"\\mathbb{R}","&#8477;"),T.C=T.complex=T.Complex=T.complexes=T.Complexes=T.complexplane=T.Complexplane=T.ComplexPlane=k(E,"\\mathbb{C}","&#8450;"),T.H=T.Hamiltonian=T.quaternions=T.Quaternions=k(E,"\\mathbb{H}","&#8461;"),T.quad=T.emsp=k(E,"\\quad ","    "),T.qquad=k(E,"\\qquad ","        "),T.diamond=k(E,"\\diamond ","&#9671;"),T.bigtriangleup=k(E,"\\bigtriangleup ","&#9651;"),T.ominus=k(E,"\\ominus ","&#8854;"),T.uplus=k(E,"\\uplus ","&#8846;"),T.bigtriangledown=k(E,"\\bigtriangledown ","&#9661;"),T.sqcap=k(E,"\\sqcap ","&#8851;"),T.triangleleft=k(E,"\\triangleleft ","&#8882;"),T.sqcup=k(E,"\\sqcup ","&#8852;"),T.triangleright=k(E,"\\triangleright ","&#8883;"),T.odot=k(E,"\\odot ","&#8857;"),T.bigcirc=k(E,"\\bigcirc ","&#9711;"),T.dagger=k(E,"\\dagger ","&#0134;"),T.ddagger=k(E,"\\ddagger ","&#135;"),T.wr=k(E,"\\wr ","&#8768;"),T.amalg=k(E,"\\amalg ","&#8720;"),T.models=k(E,"\\models ","&#8872;"),T.prec=k(E,"\\prec ","&#8826;"),T.succ=k(E,"\\succ ","&#8827;"),T.preceq=k(E,"\\preceq ","&#8828;"),T.succeq=k(E,"\\succeq ","&#8829;"),T.simeq=k(E,"\\simeq ","&#8771;"),T.mid=k(E,"\\mid ","&#8739;"),T.ll=k(E,"\\ll ","&#8810;"),T.gg=k(E,"\\gg ","&#8811;"),T.parallel=k(E,"\\parallel ","&#8741;"),T.bowtie=k(E,"\\bowtie ","&#8904;"),T.sqsubset=k(E,"\\sqsubset ","&#8847;"),T.sqsupset=k(E,"\\sqsupset ","&#8848;"),T.smile=k(E,"\\smile ","&#8995;"),T.sqsubseteq=k(E,"\\sqsubseteq ","&#8849;"),T.sqsupseteq=k(E,"\\sqsupseteq ","&#8850;"),T.doteq=k(E,"\\doteq ","&#8784;"),T.frown=k(E,"\\frown ","&#8994;"),T.vdash=k(E,"\\vdash ","&#8870;"),T.dashv=k(E,"\\dashv ","&#8867;"),T.longleftarrow=k(E,"\\longleftarrow ","&#8592;"),T.longrightarrow=k(E,"\\longrightarrow ","&#8594;"),T.Longleftarrow=k(E,"\\Longleftarrow ","&#8656;"),T.Longrightarrow=k(E,"\\Longrightarrow ","&#8658;"),T.longleftrightarrow=k(E,"\\longleftrightarrow ","&#8596;"),T.updownarrow=k(E,"\\updownarrow ","&#8597;"),T.Longleftrightarrow=k(E,"\\Longleftrightarrow ","&#8660;"),T.Updownarrow=k(E,"\\Updownarrow ","&#8661;"),T.mapsto=k(E,"\\mapsto ","&#8614;"),T.nearrow=k(E,"\\nearrow ","&#8599;"),T.hookleftarrow=k(E,"\\hookleftarrow ","&#8617;"),T.hookrightarrow=k(E,"\\hookrightarrow ","&#8618;"),T.searrow=k(E,"\\searrow ","&#8600;"),T.leftharpoonup=k(E,"\\leftharpoonup ","&#8636;"),T.rightharpoonup=k(E,"\\rightharpoonup ","&#8640;"),T.swarrow=k(E,"\\swarrow ","&#8601;"),T.leftharpoondown=k(E,"\\leftharpoondown ","&#8637;"),T.rightharpoondown=k(E,"\\rightharpoondown ","&#8641;"),T.nwarrow=k(E,"\\nwarrow ","&#8598;"),T.ldots=k(E,"\\ldots ","&#8230;"),T.cdots=k(E,"\\cdots ","&#8943;"),T.vdots=k(E,"\\vdots ","&#8942;"),T.ddots=k(E,"\\ddots ","&#8944;"),T.surd=k(E,"\\surd ","&#8730;"),T.triangle=k(E,"\\triangle ","&#9653;"),T.ell=k(E,"\\ell ","&#8467;"),T.top=k(E,"\\top ","&#8868;"),T.flat=k(E,"\\flat ","&#9837;"),T.natural=k(E,"\\natural ","&#9838;"),T.sharp=k(E,"\\sharp ","&#9839;"),T.wp=k(E,"\\wp ","&#8472;"),T.bot=k(E,"\\bot ","&#8869;"),T.clubsuit=k(E,"\\clubsuit ","&#9827;"),T.diamondsuit=k(E,"\\diamondsuit ","&#9826;"),T.heartsuit=k(E,"\\heartsuit ","&#9825;"),T.spadesuit=k(E,"\\spadesuit ","&#9824;"),T.oint=k(E,"\\oint ","&#8750;"),T.bigcap=k(E,"\\bigcap ","&#8745;"),T.bigcup=k(E,"\\bigcup ","&#8746;"),T.bigsqcup=k(E,"\\bigsqcup ","&#8852;"),T.bigvee=k(E,"\\bigvee ","&#8744;"),T.bigwedge=k(E,"\\bigwedge ","&#8743;"),T.bigodot=k(E,"\\bigodot ","&#8857;"),T.bigotimes=k(E,"\\bigotimes ","&#8855;"),T.bigoplus=k(E,"\\bigoplus ","&#8853;"),T.biguplus=k(E,"\\biguplus ","&#8846;"),T.lfloor=k(E,"\\lfloor ","&#8970;"),T.rfloor=k(E,"\\rfloor ","&#8971;"),T.lceil=k(E,"\\lceil ","&#8968;"),T.rceil=k(E,"\\rceil ","&#8969;"),T.slash=k(E,"\\slash ","&#47;"),T.opencurlybrace=k(E,"\\opencurlybrace ","&#123;"),T.closecurlybrace=k(E,"\\closecurlybrace ","&#125;"),T.caret=k(E,"\\caret ","^"),T.underscore=k(E,"\\underscore ","_"),T.backslash=k(E,"\\backslash ","\\"),T.vert=k(E,"|"),T.perp=T.perpendicular=k(E,"\\perp ","&perp;"),T.nabla=T.del=k(E,"\\nabla ","&nabla;"),T.hbar=k(E,"\\hbar ","&#8463;"),T.AA=T.Angstrom=T.angstrom=k(E,"\\text\\AA ","&#8491;"),T.ring=T.circ=T.circle=k(E,"\\circ ","&#8728;"),T.bull=T.bullet=k(E,"\\bullet ","&bull;"),T.setminus=T.smallsetminus=k(E,"\\setminus ","&#8726;"),T.not=T.neg=k(E,"\\neg ","&not;"),T.dots=T.ellip=T.hellip=T.ellipsis=T.hellipsis=k(E,"\\dots ","&hellip;"),T.converges=T.darr=T.dnarr=T.dnarrow=T.downarrow=k(E,"\\downarrow ","&darr;"),T.dArr=T.dnArr=T.dnArrow=T.Downarrow=k(E,"\\Downarrow ","&dArr;"),T.diverges=T.uarr=T.uparrow=k(E,"\\uparrow ","&uarr;"),T.uArr=T.Uparrow=k(E,"\\Uparrow ","&uArr;"),T.to=k(G,"\\to ","&rarr;"),T.rarr=T.rightarrow=k(E,"\\rightarrow ","&rarr;"),T.implies=k(G,"\\Rightarrow ","&rArr;"),T.rArr=T.Rightarrow=k(E,"\\Rightarrow ","&rArr;"),T.gets=k(G,"\\gets ","&larr;"),T.larr=T.leftarrow=k(E,"\\leftarrow ","&larr;"),T.impliedby=k(G,"\\Leftarrow ","&lArr;"),T.lArr=T.Leftarrow=k(E,"\\Leftarrow ","&lArr;"),T.harr=T.lrarr=T.leftrightarrow=k(E,"\\leftrightarrow ","&harr;"),T.iff=k(G,"\\Leftrightarrow ","&hArr;"),T.hArr=T.lrArr=T.Leftrightarrow=k(E,"\\Leftrightarrow ","&hArr;"),T.Re=T.Real=T.real=k(E,"\\Re ","&real;"),T.Im=T.imag=T.image=T.imagin=T.imaginary=T.Imaginary=k(E,"\\Im ","&image;"),T.part=T.partial=k(E,"\\partial ","&part;"),T.inf=T.infin=T.infty=T.infinity=k(E,"\\infty ","&infin;"),T.alef=T.alefsym=T.aleph=T.alephsym=k(E,"\\aleph ","&alefsym;"),T.xist=T.xists=T.exist=T.exists=k(E,"\\exists ","&exist;"),T.and=T.land=T.wedge=k(E,"\\wedge ","&and;"),T.or=T.lor=T.vee=k(E,"\\vee ","&or;"),T.o=T.O=T.empty=T.emptyset=T.oslash=T.Oslash=T.nothing=T.varnothing=k(G,"\\varnothing ","&empty;"),T.cup=T.union=k(E,"\\cup ","&cup;"),T.cap=T.intersect=T.intersection=k(E,"\\cap ","&cap;"),T.deg=T.degree=k(E,"^\\circ ","&deg;"),T.ang=T.angle=k(E,"\\angle ","&ang;"),O=J.prototype=new c,O.respace=function(){this.jQ[0].className=this.next instanceof m||this.next instanceof r?"":"non-italicized-function"},T.ln=T.lg=T.log=T.span=T.proj=T.det=T.dim=T.min=T.max=T.mod=T.lcm=T.gcd=T.gcf=T.hcf=T.lim=J,function(){var a=["sin","cos","tan","sec","cosec","csc","cotan","cot"];for(var b in a)T[a[b]]=T[a[b]+"h"]=T["a"+a[b]]=T["arc"+a[b]]=T["a"+a[b]+"h"]=T["arc"+a[b]+"h"]=J}(),O=K.prototype,O.prev=0,O.next=0,O.parent=0,O.show=function(){return this.jQ=this._jQ.removeClass("blink"),"intervalId"in this?clearInterval(this.intervalId):(this.next?this.selection&&this.selection.prev===this.prev?this.jQ.insertBefore(this.selection.jQ):this.jQ.insertBefore(this.next.jQ.first()):this.jQ.appendTo(this.parent.jQ),this.parent.focus()),this.intervalId=setInterval(this.blink,500),this},O.hide=function(){return"intervalId"in this&&clearInterval(this.intervalId),delete this.intervalId,this.jQ.detach(),this.jQ=M(),this},O.redraw=function(){for(var a=this.parent;a;a=a.parent)a.redraw&&a.redraw()},O.insertAt=function(a,b,c){var d=this.parent;this.parent=a,this.prev=b,this.next=c,d.blur()},O.insertBefore=function(a){return this.insertAt(a.parent,a.prev,a),this.parent.jQ.addClass("hasCursor"),this.jQ.insertBefore(a.jQ.first()),this},O.insertAfter=function(a){return this.insertAt(a.parent,a,a.next),this.parent.jQ.addClass("hasCursor"),this.jQ.insertAfter(a.jQ.last()),this},O.prependTo=function(a){return this.insertAt(a,0,a.firstChild),a.textarea?this.jQ.insertAfter(a.textarea):this.jQ.prependTo(a.jQ),a.focus(),this},O.appendTo=function(a){return this.insertAt(a,a.lastChild,0),this.jQ.appendTo(a.jQ),a.focus(),this},O.hopLeft=function(){return this.jQ.insertBefore(this.prev.jQ.first()),this.next=this.prev,this.prev=this.prev.prev,this},O.hopRight=function(){return this.jQ.insertAfter(this.next.jQ.last()),this.prev=this.next,this.next=this.next.next,this},O.moveLeft=function(){return this.selection?this.insertBefore(this.selection.prev.next||this.parent.firstChild).clearSelection():this.prev?this.prev.lastChild?this.appendTo(this.prev.lastChild):this.hopLeft():this.parent.prev?this.appendTo(this.parent.prev):this.parent!==this.root&&this.insertBefore(this.parent.parent),this.show()},O.moveRight=function(){return this.selection?this.insertAfter
(this.selection.next.prev||this.parent.lastChild).clearSelection():this.next?this.next.firstChild?this.prependTo(this.next.firstChild):this.hopRight():this.parent.next?this.prependTo(this.parent.next):this.parent!==this.root&&this.insertAfter(this.parent.parent),this.show()},O.seek=function(a,b,c){var d=this.clearSelection();if(a.hasClass("empty"))return d.prependTo(a.data(P).block),d;var e=a.data(P);if(e){if(e.cmd&&!e.block)return a.outerWidth()>2*(b-a.offset().left)?d.insertBefore(e.cmd):d.insertAfter(e.cmd),d}else a=a.parent(),e=a.data(P),e||(e={block:d.root});e.cmd?d.insertAfter(e.cmd):d.appendTo(e.block);var f=d.jQ.offset().left-b,g;do d.moveLeft(),g=f,f=d.jQ.offset().left-b;while(f>0&&(d.prev||d.parent!==d.root));return-f>g&&d.moveRight(),d},O.writeLatex=function(a){return this.deleteSelection(),a=a&&a.match(/\\text\{([^}]|\\\})*\}|\\[a-z]*|[^\s]/ig)||0,function b(c){while(a.length){var d=a.shift();if(!d||d==="}")return;var e;if(d.slice(0,6)==="\\text{"){e=new w(d.slice(6,-1)),c.insertNew(e).insertAfter(e);continue}if(d==="\\left"||d==="\\right"){d=a.shift(),d==="\\"&&(d=a.shift()),c.insertCh(d),e=c.prev||c.parent.parent;if(c.prev)return;a.unshift("{")}else if(/^\\[a-z]+$/i.test(d)){d=d.slice(1);var e=T[d];if(e)c.insertNew(e=new e(N,d));else{e=new w(d),c.insertNew(e).insertAfter(e);continue}}else d.match(/[a-eg-zA-Z]/)?e=new D(d):(e=T[d])?e=new e:e=new E(d),c.insertNew(e);e.eachChild(function(d){c.appendTo(d);var e=a.shift();if(!e)return!1;e==="{"?b(c):c.insertCh(e)}),c.insertAfter(e)}}(this),this.hide()},O.write=function(a){return this.show().insertCh(a)},O.insertCh=function(a){this.selection&&(this.prev=this.selection.prev,this.next=this.selection.next);var b;return a.match(/^[a-eg-zA-Z]$/)?b=new D(a):(b=S[a]||T[a])?b=new b(this.selection,a):b=new E(a),this.selection&&(b instanceof c&&this.selection.remove(),delete this.selection),this.insertNew(b)},O.insertNew=function(a){return a.insertAt(this),this},O.unwrapGramp=function(){var a=this.parent.parent,b=a.parent,c=a.prev,d=this;a.eachChild(function(d){if(d.isEmpty())return;d.eachChild(function(c){c.parent=b,c.jQ.insertBefore(a.jQ.first())}),d.firstChild.prev=c,c?c.next=d.firstChild:b.firstChild=d.firstChild,c=d.lastChild}),c.next=a.next,a.next?a.next.prev=c:b.lastChild=c;if(!this.next)if(this.prev)this.next=this.prev.next;else while(!this.next){this.parent=this.parent.next;if(this.parent)this.next=this.parent.firstChild;else{this.next=a.next,this.parent=b;break}}this.next?this.insertBefore(this.next):this.appendTo(b),a.jQ.remove(),a.prev&&a.prev.respace(),a.next&&a.next.respace()},O.backspace=function(){if(!this.deleteSelection())if(this.prev)this.prev.isEmpty()?this.prev=this.prev.remove().prev:this.selectLeft();else if(this.parent!==this.root){if(this.parent.parent.isEmpty())return this.insertAfter(this.parent.parent).backspace();this.unwrapGramp()}return this.prev&&this.prev.respace(),this.next&&this.next.respace(),this.redraw(),this},O.deleteForward=function(){if(!this.deleteSelection())if(this.next)this.next.isEmpty()?this.next=this.next.remove().next:this.selectRight();else if(this.parent!==this.root){if(this.parent.parent.isEmpty())return this.insertBefore(this.parent.parent).deleteForward();this.unwrapGramp()}return this.prev&&this.prev.respace(),this.next&&this.next.respace(),this.redraw(),this},O.selectFrom=function(a){var b=this,c=a;d:for(;;){for(var e=this;e!==b.parent.parent;e=e.parent.parent)if(e.parent===c.parent){g=e,h=c;break d}for(var f=a;f!==c.parent.parent;f=f.parent.parent)if(b.parent===f.parent){g=b,h=f;break d}b.parent.parent&&(b=b.parent.parent),c.parent.parent&&(c=c.parent.parent)}var g,h,i;if(g.next!==h){for(var j=g;j;j=j.next)if(j===h.prev){i=!0;break}i||(i=h,h=g,g=i)}this.hide().selection=new L(g.parent,g.prev,h.next),this.insertAfter(h.next.prev||h.parent.lastChild),this.root.selectionChanged()},O.selectLeft=function(){if(this.selection)if(this.selection.prev===this.prev)this.prev?(this.hopLeft().next.jQ.prependTo(this.selection.jQ),this.selection.prev=this.prev):this.parent!==this.root&&this.insertBefore(this.parent.parent).selection.levelUp();else{this.prev.jQ.insertAfter(this.selection.jQ),this.hopLeft().selection.next=this.next;if(this.selection.prev===this.prev){this.deleteSelection();return}}else{if(this.prev)this.hopLeft();else if(this.parent!==this.root)this.insertBefore(this.parent.parent);else return;this.hide().selection=new L(this.parent,this.prev,this.next.next)}this.root.selectionChanged()},O.selectRight=function(){if(this.selection)if(this.selection.next===this.next)this.next?(this.hopRight().prev.jQ.appendTo(this.selection.jQ),this.selection.next=this.next):this.parent!==this.root&&this.insertAfter(this.parent.parent).selection.levelUp();else{this.next.jQ.insertBefore(this.selection.jQ),this.hopRight().selection.prev=this.prev;if(this.selection.next===this.next){this.deleteSelection();return}}else{if(this.next)this.hopRight();else if(this.parent!==this.root)this.insertAfter(this.parent.parent);else return;this.hide().selection=new L(this.parent,this.prev.prev,this.next)}this.root.selectionChanged()},O.clearSelection=function(){return this.show().selection&&(this.selection.clear(),delete this.selection,this.root.selectionChanged()),this},O.deleteSelection=function(){return this.show().selection?(this.prev=this.selection.prev,this.next=this.selection.next,this.selection.remove(),delete this.selection,this.root.selectionChanged(),!0):!1},O=L.prototype=new e,O.jQinit=function(a){this.jQ=a.wrapAll('<span class="selection"></span>').parent()},O.levelUp=function(){return this.clear().jQinit(this.parent.parent.jQ),this.prev=this.parent.parent.prev,this.next=this.parent.parent.next,this.parent=this.parent.parent.parent,this},O.clear=function(){return this.jQ.replaceWith(this.jQ.children()),this},O.blockify=function(){return this.jQ.replaceWith(this.jQ=this.jQ.children()),e.prototype.blockify.call(this)},O.detach=function(){var a=e.prototype.blockify.call(this);return this.blockify=function(){return this.jQ.replaceWith(a.jQ=this.jQ=this.jQ.children()),a},this},M.fn.mathquill=function(a,b){switch(a){case"redraw":return this.find(":not(:has(:first))").each(function(){var a=M(this).data(P);a&&(a.cmd||a.block)&&K.prototype.redraw.call(a.cmd||a.block)}),this;case"revert":return this.each(function(){var a=M(this).data(P);a&&a.revert&&a.revert()});case"latex":if(arguments.length>1)return this.each(function(){var a=M(this).data(P);a&&a.block&&a.block.renderLatex&&a.block.renderLatex(b)});var c=this.data(P);return c&&c.block&&c.block.latex();case"text":var c=this.data(P);return c&&c.block&&c.block.text();case"html":return this.html().replace(/ ?hasCursor|hasCursor /,"").replace(/ class=(""|(?= |>))/g,"").replace(/<span class="?cursor( blink)?"?><\/span>/i,"").replace(/<span class="?textarea"?><textarea><\/textarea><\/span>/i,"");case"write":if(arguments.length>1)return this.each(function(){var a=M(this).data(P),c=a&&a.block,d=c&&c.cursor;d&&(d.writeLatex(b),c.blur())});default:var d=a==="textbox",e=d||a==="editable",h=d?i:g;return this.each(function(){f(M(this),new h,d,e)})}},M(function(){M(".mathquill-editable:not(.mathquill-rendered-math)").mathquill("editable"),M(".mathquill-textbox:not(.mathquill-rendered-math)").mathquill("textbox"),M(".mathquill-embedded-latex").mathquill()})}();var shaders={"g-curve.fragment":"varying vec2  MCposition;\n\nfloat f(float x){\n\treturn sqrt(1.0-x*x);\n}\nuniform float thickness;\n\nfloat normalised(float x){\n\treturn (x);\n}\nfloat unnorm(float x){\n\treturn f(x)/normalised(x);\n}\n\nvoid main() {\n\tgl_FragColor=vec4(0,0,0,0.4);\n\tfloat x = MCposition.x;\n\tfloat lower = normalised(x)* unnorm(x);\n\tif(MCposition.y > lower){\n\t\tgl_FragColor=vec4(1,0,0,0.2);\n\t\tfloat dy=0.1;\n\t\tfloat upper = unnorm(x)*(normalised(x)+ thickness*(x)*((x)));\n\t\tif(MCposition.y<upper){\n\t\t\tgl_FragColor=vec4(1,0,0,1.0);\n\t\t}\n\n\t\t\n\t}\n\n}\n","g-curve.vertex":"\nvarying vec2  MCposition;\n\nvoid main()\n{\n\n\tvec3 ecPosition = vec3(gl_ModelViewMatrix * gl_Vertex);\n\tvec3 tnorm      = normalize(gl_NormalMatrix * gl_Normal);\n\n\tMCposition  = gl_Vertex.xy;\n\tgl_Position = gl_ProjectionMatrix*gl_ModelViewMatrix * gl_Vertex;\n}\n","g-region-xy.fragment":"#ifdef GL_ES\nprecision highp float;\n#endif\n\n#import javascript\n\nvarying vec2  MCposition;\nuniform vec4 uColor;\n\nvoid main() {\n\tif(f(MCposition.x,MCposition.y)){\n\t\tgl_FragColor=vec4(uColor.rgb,0.3);\n\t\tgl_FragColor=vec4(1.0,0.0,0.0,0.3);\n\t}else{\n\t\tdiscard;\n\t}\n\n}\n","g-region-xy.vertex":"\nattribute vec2 aVertexPosition;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat3 uNMatrix;\n\nvarying vec2  MCposition;\n\nvoid main()\n{\n\tvec4 mvPosition = uMVMatrix * vec4(aVertexPosition, 0.0, 1.0);\n\tgl_Position = uPMatrix * mvPosition;\n\n\tMCposition  = aVertexPosition;\n}\n","g-surface.fragment":"#ifdef GL_ES\nprecision highp float;\n#endif\n/*\nuniform vec4 uColor;\nvoid main(void) {\n\tgl_FragColor = uColor;\n}\n*/\n\nvarying vec2  MCposition;\nvarying float diffuse;\nvarying float specular;\nuniform vec4 uColor;\nconst float ambient = 0.03;\nfloat rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvoid main(void) {\n\tvec2 pos = fract(MCposition);\n\tif ((pos.x > 0.50)&&(pos.y > 0.5) || (pos.x < 0.5)&&(pos.y < 0.5)){\n\t\tfloat lightWeighting = (0.2*diffuse+0.8*specular+ambient);\n\t\tgl_FragColor = vec4(lightWeighting*uColor.rgb, uColor.a);\n\t}else{\n\t\tvec3 othercolor = vec3(1,1,1)-uColor.rgb;\n\t\tothercolor=othercolor*0.1+uColor.rgb*0.9;\n\t\t\n\t\tfloat lightWeighting = (1.0-0.1*rand(MCposition))*(0.7*diffuse+0.3*specular+ambient);\n\t\tgl_FragColor = vec4(lightWeighting*othercolor.rgb, uColor.a);\n\t\t\n\t}\n}\n","g-surface.vertex":"\n#ifdef GL_ES\nprecision highp float;\n#endif\n/*\nattribute vec3 aVertexPosition;\nattribute vec3 aVertexNormal;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\n\nvoid main(void) {\n\tvec3 donothing = aVertexNormal;\n    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n}\n*/\n\nattribute vec2 aVertexPosition;\nattribute vec3 aVertexNormal;\nattribute float aHeight;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat3 uNMatrix;\n\nuniform vec3 uPointLightingLocation;\n\nvarying vec2 MCposition;\nvarying float diffuse;\nvarying float specular;\n\n\nvoid main(void){\n\tvec3 uPointLightingColor = vec3(1.0,1.0,1.0);\n\tvec4 mvPosition = uMVMatrix * vec4(aVertexPosition, aHeight, 1.0);\n\tgl_Position = uPMatrix * mvPosition;\n\tvec3 lightLocation = vec3(uMVMatrix * vec4(uPointLightingLocation,1.0));\n\tvec3 lightDirection = normalize(lightLocation - mvPosition.xyz); // Note: the ray is traced backwards\n\t\n\tvec3 transformedNormal = normalize(uNMatrix * normalize(aVertexNormal));\n\t\n\tdiffuse = max((dot(transformedNormal, lightDirection)), 0.0);\n\tfloat spec = 0.0;\n\tvec3 reflectVec = reflect(-lightDirection, transformedNormal);\n\t\n\tvec3 viewVec = normalize(-vec3(mvPosition));\n\tif (diffuse > 0.0) {\n\t\tspec = max(dot(reflectVec, viewVec), 0.0);\n\t\tspec = pow(spec, 16.0);\n\t}\n\tspecular = spec;\n\tMCposition  = aVertexPosition.xy;\n}","shader-fs.fragment":"#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform vec4 uColor;\nvoid main(void) {\n\tgl_FragColor = uColor;\n}\n","shader-vs.vertex":"attribute vec3 aVertexPosition;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\n\nvoid main(void) {\n    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n}\n"};"use strict",window.requestAnimFrame=window.requestAnimFrame||function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,b){window.setTimeout(a,1e3/60)}}();var startupTime=new Date;Math.e=Math.E,Math.pi=Math.PI,window.Float32Array=Float32Array||window.Array,function(){var a={},b;for(b in window)a[b]=!0;window.__defineGetter__("globals",function(){var b=[],c;for(c in window)a[c]!==!0&&b.push(c);return b})}();var localized={showhide:"Show/Hide equation"},renderers=[];renderers.push(function(a){function e(a){try{d=a.getContext("webgl",{antialias:!0}),d===null&&(d=a.getContext("experimental-webgl",{antialias:!0}));if(d===null)throw"Fail";d.viewportWidth=a.width,d.viewportHeight=a.height}catch(b){alert(b)}return window.gl=d,!!d}function f(a,b,c){var d=shaders[b],e;if(/\.fragment$/.test(b))e=a.createShader(a.FRAGMENT_SHADER);else if(/\.vertex$/.test(b))e=a.createShader(a.VERTEX_SHADER);else throw"Unkown filetype";return c!==undefined&&(d=d.replace("#import javascript\n",c)),a.shaderSource(e,d),a.compileShader(e),a.getShaderParameter(e,a.COMPILE_STATUS)?e:(alert(a.getShaderInfoLog(e)),null)}function j(){D("start"),g=d.createProgram(),d.attachShader(g,f(d,"shader-vs.vertex")),d.attachShader(g,f(d,"shader-fs.fragment")),d.linkProgram(g),D("shaders 2"),d.getProgramParameter(g,d.LINK_STATUS)||alert("Could not initialise shaders"),d.useProgram(g),g.vertexPositionAttribute=d.getAttribLocation(g,"aVertexPosition"),g.pMatrixUniform=d.getUniformLocation(g,"uPMatrix"),g.mvMatrixUniform=d.getUniformLocation(g,"uMVMatrix"),g.colorUniform=d.getUniformLocation(g,"uColor"),h=d.createProgram(),d.attachShader(h,f(d,"g-surface.vertex")),d.attachShader(h,f(d,"g-surface.fragment")),d.linkProgram(h),d.getProgramParameter(h,d.LINK_STATUS)||alert("Could not initialise surface shader."),h.vertexPositionAttribute=d.getAttribLocation(h,"aVertexPosition"),h.vertexNormalAttribute=d.getAttribLocation(h,"aVertexNormal"),h.heightAttribute=d.getAttribLocation(h,"aHeight"),h.pMatrixUniform=d.getUniformLocation(h,"uPMatrix"),h.mvMatrixUniform=d.getUniformLocation(h,"uMVMatrix"),h.nMatrixUniform=d.getUniformLocation(h,"uNMatrix"),h.colorUniform=d.getUniformLocation(h,"uColor"),h.pointLightingLocationUniform=d.getUniformLocation(h,"uPointLightingLocation"),D("Init Shaders")}function y(){v=d.createBuffer();var a=[],b,c,e=5,f=2*e/w,g=-e,h=-e;for(b=0;b<w;b++)for(c=0;c<w;c++){var i=b*f+g,j=c*f+h;a.push(i,j)}var k=[a[0],a[1]];for(b=0;b<w-1;b++){var l=2*(b+1)*w;k.push(a[l],a[l+1]);for(c=1;c<w;c++){var m=2*(b*w+c),l=2*((b+1)*w+c);k.push(a[m],a[m+1]),k.push(a[l],a[l+1])}b++;if(b+1>=w)break;var l=2*((b+1)*w+w-1);k.push(a[l],a[l+1]);for(c=w-2;c>=0;c--){var m=2*(b*w+c),l=2*((b+1)*w+c);k.push(a[m],a[m+1]),k.push(a[l],a[l+1])}}d.bindBuffer(d.ARRAY_BUFFER,v),d.bufferData(d.ARRAY_BUFFER,x=new Float32Array(k),d.STATIC_DRAW),v.itemSize=2,v.numItems=x.numItems=k.length/2}function z(a){a=a||"x*x+y*y<4.0";var b={},c;return b.program=c=d.createProgram(),d.attachShader(c,f(d,"g-region-xy.vertex")),d.attachShader(c,f(d,"g-region-xy.fragment","bool f(float x,float y){return "+a+";}")),d.linkProgram(c),d.getProgramParameter(c,d.LINK_STATUS)||alert("Could not initialise shaders"),d.useProgram(c),c.vertexPositionAttribute=d.getAttribLocation(c,"aVertexPosition"),c.pMatrixUniform=d.getUniformLocation(c,"uPMatrix"),c.mvMatrixUniform=d.getUniformLocation(c,"uMVMatrix"),c.colorUniform=d.getUniformLocation(c,"uColor"),b.color=new Float32Array([126/256,179/256,217/256,.2]),b.surfaceVertexPositionBuffer=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,b.surfaceVertexPositionBuffer),d.bufferData(d.ARRAY_BUFFER,x,d.STATIC_DRAW),b.surfaceVertexPositionBuffer.itemSize=2,b.surfaceVertexPositionBuffer.numItems=x.numItems,D("create region"),b}function A(a){function m(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function n(a,c,d,e,f,h,i){var j=a*w+c,k=3*j,n=(a+d)*w+c+e,o=(a+f)*w+c+h,p=3*n,q=3*o,r=[a*g,c*g,b[j]],s=[d*g,e*g,b[n]-b[j]],t=[f*g,h*g,b[o]-b[j]],u=m(s,t);i?l.push(u[0],u[1],u[2]):l.push(-u[0],-u[1],-u[2])}this.heightBuffer=d.createBuffer(),this.vertexNormalBuffer=d.createBuffer();var b=[],c,e,f=5,g=2*f/w,h=-f,i=-f;a=a||function(a,b){return Math.sin(a+b)};for(c=0;c<w;c++)for(e=0;e<w;e++){var j=c*g+h,k=e*g+i;b.push(a(j,k))}var l=[];for(c=0,e=0;e<w-1;e++)n(c,e,1,0,0,1,!0);n(c,e,1,0,0,-1);for(c=1;c<w-1;c++){e=0,n(c,e,-1,0,0,1);for(e=1;e<w-1;e++)n(c,e,-1,0,0,1);n(c,e,-1,0,0,-1,!0)}for(e=0;e<w-1;e++)n(c,e,-1,0,0,1);n(c,e,-1,0,0,-1,!0);var o=[b[0]],p=[l[0],l[1],l[2]];for(c=0;c<w-1;c++){var q=(c+1)*w,r=3*q;o.push(b[q]),p.push(l[r],l[r+1],l[r+2]);for(e=1;e<w;e++){var s=c*w+e,q=(c+1)*w+e,t=3*s,r=3*q;o.push(b[s]),o.push(b[q]),p.push(l[t],l[t+1],l[t+2]),p.push(l[r],l[r+1],l[r+2])}c++;if(c+1>=w)break;var q=(c+1)*w+w-1,r=3*q;o.push(b[q]),p.push(l[r],l[r+1],l[r+2]);for(e=w-2;e>=0;e--){var s=c*w+e,q=(c+1)*w+e,t=3*s,r=3*q;o.push(b[s]),o.push(b[q]),p.push(l[t],l[t+1],l[t+2]),p.push(l[r],l[r+1],l[r+2])}}d.bindBuffer(d.ARRAY_BUFFER,this.heightBuffer),d.bufferData(d.ARRAY_BUFFER,new Float32Array(o),d.STATIC_DRAW),this.heightBuffer.itemSize=1,this.heightBuffer.numItems=o.length,d.bindBuffer(d.ARRAY_BUFFER,this.vertexNormalBuffer),d.bufferData(d.ARRAY_BUFFER,new Float32Array(p),d.STATIC_DRAW),this.vertexNormalBuffer.itemSize=3,this.vertexNormalBuffer.numItems=p.length/3;if(!1){var u=[],v,x=b.length*3;for(v=0;v<x;v+=3){u.push(b[v],b[v+1],b[v+2]);var y=l[v],z=l[v+1],A=l[v+2],B=4*Math.sqrt(y*y+z*z+A*A);u.push(b[v]+y/B,b[v+1]+z/B,b[v+2]+A/B)}this.vertexNormalDisplayBuffer=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,this.vertexNormalDisplayBuffer),d.bufferData(d.ARRAY_BUFFER,new Float32Array(u),d.STATIC_DRAW),this.vertexNormalDisplayBuffer.itemSize=3,this.vertexNormalDisplayBuffer.numItems=u.length/3}this.color=new Float32Array([Math.random(),Math.random(),Math.random(),1])}function B(){t=d.createBuffer(),s=d.createBuffer(),u=d.createBuffer();var a=.01,b=[-5,-a,0,-5,a,0,5,-a,0,5,a,0,5,+a*15,0,5.3,0,0,5,-a*15,0,5,-a*15,0,-a,-5,0,-a,-5,0,+a,-5,0,-a,5,0,+a,5,0,+a*15,5,0,0,5.3,0,-a*15,5,0];d.bindBuffer(d.ARRAY_BUFFER,t),d.bufferData(d.ARRAY_BUFFER,new Float32Array(b),d.STATIC_DRAW),t.itemSize=3,t.numItems=b.length/3,b=[];var c=[],e,f=.25,g=5/f;for(e=-g;e<=g;e++)e!=0&&(e%4==0?(b.push(-5,e*f,0),b.push(5,e*f,0)):(c.push(-5,e*f,0),c.push(5,e*f,0)));for(e=-g;e<=g;e++)e!=0&&(e%4==0?(b.push(e*f,-5,0),b.push(e*f,5,0)):(c.push(e*f,-5,0),c.push(e*f,5,0)));d.bindBuffer(d.ARRAY_BUFFER,s),d.bufferData(d.ARRAY_BUFFER,new Float32Array(b),d.STATIC_DRAW),s.itemSize=3,s.numItems=b.length/3,d.bindBuffer(d.ARRAY_BUFFER,u),d.bufferData(d.ARRAY_BUFFER,new Float32Array(c),d.STATIC_DRAW),u.itemSize=3,u.numItems=c.length/3,D("init buffers"),y(),D("init shared surface buffer"),D("init surface buffer")}function C(a){d.getError(),r[Math.random()]=z(a),E()}function D(a){var b;while(b=d.getError()){var c="";for(i in d)d[i]==1281&&(c=i);console.log(a+": "+b+": "+c)}}function E(){var a;d.getError(),D(0),d.viewport(0,0,d.viewportWidth,d.viewportHeight),d.clear(d.COLOR_BUFFER_BIT|d.DEPTH_BUFFER_BIT),d.blendFunc(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA),d.disable(d.BLEND),d.enable(d.DEPTH_TEST),d.depthMask(!0),mat4.perspective(45,d.viewportWidth/d.viewportHeight,.01,100,l),mat4.identity(k),m=b.cam_lat,n=b.cam_long,o=b.cam_dist,mat4.translate(k,[0,0,-o]),mat4.rotate(k,m,[-1,0,0]),mat4.rotate(k,n,[0,0,1]),d.useProgram(a=h),d.enableVertexAttribArray(h.vertexPositionAttribute),d.enableVertexAttribArray(h.vertexNormalAttribute),d.enableVertexAttribArray(h.heightAttribute),d.uniformMatrix4fv(a.pMatrixUniform,!1,l),d.uniformMatrix4fv(a.mvMatrixUniform,!1,k);var e=mat3.create();mat4.toInverseMat3(k,e),mat3.transpose(e),D("before a"),d.uniformMatrix3fv(a.nMatrixUniform,!1,e),d.uniform3f(a.pointLightingLocationUniform,0,0,10),foreach(q,function(b,c){d.uniform4fv(a.colorUniform,c.color),d.bindBuffer(d.ARRAY_BUFFER,v),d.vertexAttribPointer(a.vertexPositionAttribute,v.itemSize,d.FLOAT,!1,0,0),d.bindBuffer(d.ARRAY_BUFFER,c.heightBuffer),d.vertexAttribPointer(a.heightAttribute,c.heightBuffer.itemSize,d.FLOAT,!1,0,0),d.bindBuffer(d.ARRAY_BUFFER,c.vertexNormalBuffer),d.vertexAttribPointer(a.vertexNormalAttribute,c.vertexNormalBuffer.itemSize,d.FLOAT,!1,0,0),d.drawArrays(d.TRIANGLE_STRIP,0,v.numItems)}),d.disableVertexAttribArray(h.vertexPositionAttribute),d.disableVertexAttribArray(h.vertexNormalAttribute),d.disableVertexAttribArray(h.heightAttribute),d.enable(d.BLEND),d.depthMask(!1),foreach(r,function(b,c){d.useProgram(a=c.program),d.uniform4fv(a.colorUniform,c.color),d.enableVertexAttribArray(a.vertexPositionAttribute),d.uniformMatrix4fv(a.pMatrixUniform,!1,l),d.uniformMatrix4fv(a.mvMatrixUniform,!1,k),d.bindBuffer(d.ARRAY_BUFFER,c.surfaceVertexPositionBuffer),d.vertexAttribPointer(a.vertexPositionAttribute,c.surfaceVertexPositionBuffer.itemSize,d.FLOAT,!1,0,0),d.drawArrays(d.TRIANGLE_STRIP,0,c.surfaceVertexPositionBuffer.numItems),d.disableVertexAttribArray(a.vertexPositionAttribute)}),d.useProgram(a=g),d.enableVertexAttribArray(g.vertexPositionAttribute),d.uniformMatrix4fv(a.pMatrixUniform,!1,l),d.uniformMatrix4fv(a.mvMatrixUniform,!1,k),d.uniform4f(a.colorUniform,0,0,0,1),d.bindBuffer(d.ARRAY_BUFFER,t),d.vertexAttribPointer(a.vertexPositionAttribute,t.itemSize,d.FLOAT,!1,0,0),d.drawArrays(d.TRIANGLE_STRIP,0,t.numItems),d.uniform4f(a.colorUniform,0,0,0,.7),d.bindBuffer(d.ARRAY_BUFFER,u),d.vertexAttribPointer(a.vertexPositionAttribute,u.itemSize,d.FLOAT,!1,0,0),d.drawArrays(d.LINES,0,u.numItems),d.uniform4f(a.colorUniform,0,0,0,.5),d.bindBuffer(d.ARRAY_BUFFER,s),d.vertexAttribPointer(a.vertexPositionAttribute,s.itemSize,d.FLOAT,!1,0,0),d.drawArrays(d.LINES,0,s.numItems),foreach(q,function(b,c){c.vertexNormalDisplayBuffer&&(d.uniform4f(a.colorUniform,1-c.color[0],1-c.color[1],1-c.color[2],1),d.bindBuffer(d.ARRAY_BUFFER,c.vertexNormalDisplayBuffer),d.vertexAttribPointer(a.vertexPositionAttribute,c.vertexNormalDisplayBuffer.itemSize,d.FLOAT,!1,0,0),d.drawArrays(d.LINES,0,c.vertexNormalDisplayBuffer.numItems))}),d.disableVertexAttribArray(g.vertexPositionAttribute),d.disable(d.BLEND),c.update()}function F(){requestAnimFrame(F),E()}var b={cam_lat:0,cam_long:0,cam_dist:10,update:function(){E()},createGraph:function(a,b,c){q[a]=new A(c||function(a,b){return a+b}),E()},updateGraph:function(a,b){q[a].destroy(),q[a]=new A(new Function("x,y","return "+b.math.toExpression("text/javascript"))),E()},destroyGraph:function(a){}},c;window.Stats?(c=new Stats,c.domElement.style.position="absolute",c.domElement.style.left="0px",c.domElement.style.top="0px",document.body.appendChild(c.domElement)):c={update:function(){}};var d,g={},h={},k=mat4.create(),l=mat4.create(),m=0,n=0,o=10,p=!1,q={},r={},s,t,u,v,w=250,x;return A.prototype.destroy=function(){},expose(C),expose(D),expose(E),b.start=function(a){return e(a)?(D("before even start"),j(),D("initshaders"),B(),d.clearColor(1,1,1,1),d.enable(d.DEPTH_TEST),d.depthFunc(d.LEQUAL),D("start x"),E(),b):!1},b.start(a)}),renderers.push(function(){function b(a){a.pMatrix=[]}var a={update:function(){}};return a.start=function(a){return b(a)?!0:!1},a});var renderer,track=function(){var a={},b={event:function(){},error:function(){},time:function(a,c){if(c==undefined)return b.time(a.name,a);if(typeof c=="function"){var d=new Date;return c.apply(Array.prototype.slice.apply(arguments,[2])),b.time(a,new Date-d)}console.log("Performance Log: '"+a+"' took "+c+" ms.");switch(a){case"render":c>300&&renderer.decreaseQuality()}return b.time}};return b}(),app=function(){function b(c){var d=[];for(var e=0;e<20;e++)d.push((~~(Math.random()*16)).toString(16));d=d.join("");if(a[d]){if(c>10)throw"Random is not random enough!";return b((c||0)+1)}return d}var a={},c={createGraph:function(d){var e,f;a[f=b()]=e=new c.Graph(d),track.time(function(){c.ui.createGraph(f,e)}),track.time(function(){renderer.createGraph(f,e)})},updateGraphWithID:function(b){track.time(function(){renderer.updateGraph(b,a[b])})}};return c}();(function(){function a(a){if(typeof a=="string"){var b=parseInt(a.substring(1),16);this.rgba=[0,0,0,1],this.rgba[2]=b%256/256,b>>=8,this.rgba[1]=b%256/256,b>>=8,this.rgba[0]=b%256/256,b>>=8}else typeof a=="object"&&(this.rgba=[a[0]||0,a[1]||0,a[2]||0,a[3]||1])}window.Color=a,a.prototype={get rgb(){return this.rgba.slice(0,-1)},set rgb(a){this.splice(0,3,a[0],a[1],a[2])},toString:function(){var a=(this.rgba[2]*256|this.rgba[1]*256<<8|this.rgba[0]*256<<16).toString(16);while(a.length<6)a="0"+a;return"#"+a}};var b=["#0077cc","#ff0000","#00ff00"].reverse().map(function(b){return new a(b)});app.Graph=function(a){this.color=b.pop()||Math.rando}})(),document.body.removeChild(document.getElementById("loading")),track.time(init)("full load",new Date-startupTime)